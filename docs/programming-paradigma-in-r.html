<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Essential R</title>
  <meta name="description" content="Essential R">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Essential R" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="dirmeier/essential-R" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Essential R" />
  
  
  

<meta name="author" content="Simon Dirmeier">


<meta name="date" content="2018-10-05">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="r-package-development.html">
<link rel="next" href="good-practices.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<script src="libs/d3-3.5.6/d3.min.js"></script>
<link href="libs/profvis-0.3.5/profvis.css" rel="stylesheet" />
<script src="libs/profvis-0.3.5/profvis.js"></script>
<link href="libs/highlight-6.2.0/textmate.css" rel="stylesheet" />
<script src="libs/highlight-6.2.0/highlight.js"></script>
<script src="libs/profvis-binding-0.3.5/profvis.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="_css/theme.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">essential-R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Abstract</a></li>
<li class="chapter" data-level="1" data-path="r-package-development.html"><a href="r-package-development.html"><i class="fa fa-check"></i><b>1</b> R package development</a><ul>
<li class="chapter" data-level="1.1" data-path="r-package-development.html"><a href="r-package-development.html#creating-r-packages"><i class="fa fa-check"></i><b>1.1</b> Creating R packages</a></li>
<li class="chapter" data-level="1.2" data-path="r-package-development.html"><a href="r-package-development.html#writing-r-packages"><i class="fa fa-check"></i><b>1.2</b> Writing R packages</a></li>
<li class="chapter" data-level="1.3" data-path="r-package-development.html"><a href="r-package-development.html#testing-code"><i class="fa fa-check"></i><b>1.3</b> Testing code</a></li>
<li class="chapter" data-level="1.4" data-path="r-package-development.html"><a href="r-package-development.html#documenting-code"><i class="fa fa-check"></i><b>1.4</b> Documenting code</a></li>
<li class="chapter" data-level="1.5" data-path="r-package-development.html"><a href="r-package-development.html#checking-code"><i class="fa fa-check"></i><b>1.5</b> Checking code</a></li>
<li class="chapter" data-level="1.6" data-path="r-package-development.html"><a href="r-package-development.html#static-code-analysis"><i class="fa fa-check"></i><b>1.6</b> Static code analysis</a><ul>
<li class="chapter" data-level="1.6.1" data-path="r-package-development.html"><a href="r-package-development.html#running-examples"><i class="fa fa-check"></i><b>1.6.1</b> Running examples</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="r-package-development.html"><a href="r-package-development.html#code-coverage"><i class="fa fa-check"></i><b>1.7</b> Code coverage</a></li>
<li class="chapter" data-level="1.8" data-path="r-package-development.html"><a href="r-package-development.html#profiling-and-benchmarking"><i class="fa fa-check"></i><b>1.8</b> Profiling and benchmarking</a></li>
<li class="chapter" data-level="1.9" data-path="r-package-development.html"><a href="r-package-development.html#creating-a-landing-page"><i class="fa fa-check"></i><b>1.9</b> Creating a landing page</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="programming-paradigma-in-r.html"><a href="programming-paradigma-in-r.html"><i class="fa fa-check"></i><b>2</b> Programming paradigma in R</a><ul>
<li class="chapter" data-level="2.1" data-path="programming-paradigma-in-r.html"><a href="programming-paradigma-in-r.html#functional-programming"><i class="fa fa-check"></i><b>2.1</b> Functional programming</a></li>
<li class="chapter" data-level="2.2" data-path="programming-paradigma-in-r.html"><a href="programming-paradigma-in-r.html#object-oriented-programming"><i class="fa fa-check"></i><b>2.2</b> Object-oriented programming</a><ul>
<li class="chapter" data-level="2.2.1" data-path="programming-paradigma-in-r.html"><a href="programming-paradigma-in-r.html#s3"><i class="fa fa-check"></i><b>2.2.1</b> S3</a></li>
<li class="chapter" data-level="2.2.2" data-path="programming-paradigma-in-r.html"><a href="programming-paradigma-in-r.html#s4"><i class="fa fa-check"></i><b>2.2.2</b> S4</a></li>
<li class="chapter" data-level="2.2.3" data-path="programming-paradigma-in-r.html"><a href="programming-paradigma-in-r.html#r5"><i class="fa fa-check"></i><b>2.2.3</b> R5</a></li>
<li class="chapter" data-level="2.2.4" data-path="programming-paradigma-in-r.html"><a href="programming-paradigma-in-r.html#r6"><i class="fa fa-check"></i><b>2.2.4</b> R6</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="good-practices.html"><a href="good-practices.html"><i class="fa fa-check"></i><b>3</b> Good practices</a><ul>
<li class="chapter" data-level="3.1" data-path="good-practices.html"><a href="good-practices.html#continuous-integration"><i class="fa fa-check"></i><b>3.1</b> Continuous integration</a></li>
<li class="chapter" data-level="3.2" data-path="good-practices.html"><a href="good-practices.html#version-control"><i class="fa fa-check"></i><b>3.2</b> Version control</a></li>
<li class="chapter" data-level="3.3" data-path="good-practices.html"><a href="good-practices.html#docker"><i class="fa fa-check"></i><b>3.3</b> Docker</a></li>
<li class="chapter" data-level="3.4" data-path="good-practices.html"><a href="good-practices.html#code-style"><i class="fa fa-check"></i><b>3.4</b> Code style</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Essential R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="programming-paradigma-in-r" class="section level1">
<h1><span class="header-section-number">2</span> Programming paradigma in R</h1>
<div id="functional-programming" class="section level2">
<h2><span class="header-section-number">2.1</span> Functional programming</h2>
<p>TODO</p>
</div>
<div id="object-oriented-programming" class="section level2">
<h2><span class="header-section-number">2.2</span> Object-oriented programming</h2>
<p>R has three different native ways for object-oriented programming and as far as I know one additional library. <code>S3</code>, <code>S4</code> and <code>refClasses</code> (<code>R5</code>) come with the standard library, while <code>R6</code> can be installed from CRAN. I actually never use R5, because it feels incredibly bulky and slow, so we will not cover it here.</p>
<div id="s3" class="section level3">
<h3><span class="header-section-number">2.2.1</span> S3</h3>
<p>S3 methods dispatch on the first argument. If you come from other languages, such as <code>Java</code>, an S3 method is basically an overloaded function on the first argument. You can define an S3 function like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">s3 &lt;-<span class="st"> </span>function(x, y, ...) <span class="kw">UseMethod</span>(<span class="st">&quot;s3&quot;</span>)

s3.matrix &lt;-<span class="st"> </span>function(x, y, ...) <span class="kw">apply</span>(x, <span class="dv">1</span>, sum)
s3.character &lt;-<span class="st"> </span>function(x, y, ...) <span class="kw">paste</span>(x, y)

<span class="kw">s3</span>(<span class="kw">matrix</span>(<span class="dv">1</span>:<span class="dv">6</span>, <span class="dv">2</span>))</code></pre></div>
<pre><code>[1]  9 12</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">s3</span>(<span class="st">&quot;hello&quot;</span>, <span class="st">&quot;reader&quot;</span>)</code></pre></div>
<pre><code>[1] &quot;hello reader&quot;</code></pre>
<p>S3 classes are defines like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">s3.list &lt;-<span class="st"> </span>function(x, y, ...) {
    l &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)
    base::<span class="kw">class</span>(l) &lt;-<span class="st"> &quot;my.s3&quot;</span>
    
    l
}
<span class="kw">s3</span>(<span class="kw">list</span>(<span class="dt">x =</span> <span class="dv">1</span>), <span class="dt">y =</span> <span class="dv">2</span>)</code></pre></div>
<pre><code>$x
$x$x
[1] 1


$y
[1] 2

attr(,&quot;class&quot;)
[1] &quot;my.s3&quot;</code></pre>
<p>The main issue here is of course that the user can easily overwrite a class and that method dispatching on one argument usually is not enough. However, often S3 functions are all you need.</p>
</div>
<div id="s4" class="section level3">
<h3><span class="header-section-number">2.2.2</span> S4</h3>
<p>Bioconductor seems to prefer S4 over S3, so if you want to submit your package, you could for instance define interfaces using S4 and the rest using S3 or w/o OO entirely. In that way the user of your package only sees the exported interface (the S4 method) and upon calling would receive an S4 object. The rest of the implementation would be hidden.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">methods::<span class="kw">setClass</span>(<span class="st">&quot;normallist&quot;</span>, <span class="dt">representation =</span> <span class="kw">list</span>(<span class="dt">.el =</span> <span class="st">&quot;list&quot;</span>), <span class="dt">prototype =</span> methods::<span class="kw">prototype</span>(<span class="dt">.el =</span> <span class="kw">list</span>()))

methods::<span class="kw">setGeneric</span>(<span class="st">&quot;put&quot;</span>, function(obj, x) base::<span class="kw">standardGeneric</span>(<span class="st">&quot;insert&quot;</span>))

methods::<span class="kw">setMethod</span>(<span class="st">&quot;put&quot;</span>, <span class="dt">signature =</span> methods::<span class="kw">signature</span>(<span class="dt">obj =</span> <span class="st">&quot;normallist&quot;</span>, 
    <span class="dt">x =</span> <span class="st">&quot;vector&quot;</span>), function(obj, x) obj@.el &lt;-<span class="st"> </span><span class="kw">as.list</span>(x))

d &lt;-<span class="st"> </span>methods::<span class="kw">new</span>(<span class="st">&quot;normallist&quot;</span>)
d &lt;-<span class="st"> </span><span class="kw">put</span>(d, <span class="kw">seq</span>(<span class="dv">3</span>))</code></pre></div>
</div>
<div id="r5" class="section level3">
<h3><span class="header-section-number">2.2.3</span> R5</h3>
</div>
<div id="r6" class="section level3">
<h3><span class="header-section-number">2.2.4</span> R6</h3>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-package-development.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="good-practices.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
