<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>9 Good practices | Essential R</title>
  <meta name="description" content="9 Good practices | Essential R">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="9 Good practices | Essential R" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="dirmeier/essential-R" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9 Good practices | Essential R" />
  
  
  

<meta name="author" content="Simon Dirmeier">


<meta name="date" content="2019-03-05">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="miscellaneous.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="libs/d3-3.5.6/d3.min.js"></script>
<link href="libs/profvis-0.3.5/profvis.css" rel="stylesheet" />
<script src="libs/profvis-0.3.5/profvis.js"></script>
<link href="libs/highlight-6.2.0/textmate.css" rel="stylesheet" />
<script src="libs/highlight-6.2.0/highlight.js"></script>
<script src="libs/profvis-binding-0.3.5/profvis.js"></script>
<script src="libs/plotly-binding-4.8.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.39.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.39.2/plotly-latest.min.js"></script>
<script src="libs/detect-resize-0.5.3/jquery.resize.js"></script>
<link href="libs/jquery-ui-1.11.4/jquery-ui.min.css" rel="stylesheet" />
<script src="libs/jquery-ui-1.11.4/jquery-ui.min.js"></script>
<script src="libs/vega-1.4.3/vega.min.js"></script>
<script src="libs/lodash-2.2.1/lodash.min.js"></script>
<script>var lodash = _.noConflict();</script>
<link href="libs/ggvis-0.4.4/css/ggvis.css" rel="stylesheet" />
<script src="libs/ggvis-0.4.4/js/ggvis.js"></script>
<script src="libs/viz-0.3/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.0/grViz.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="theme.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">essential-R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="about.html"><a href="about.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="1" data-path="r-package-development.html"><a href="r-package-development.html"><i class="fa fa-check"></i><b>1</b> R package development</a><ul>
<li class="chapter" data-level="1.1" data-path="r-package-development.html"><a href="r-package-development.html#creating-r-packages"><i class="fa fa-check"></i><b>1.1</b> Creating R packages</a></li>
<li class="chapter" data-level="1.2" data-path="r-package-development.html"><a href="r-package-development.html#writing-r-packages"><i class="fa fa-check"></i><b>1.2</b> Writing R packages</a></li>
<li class="chapter" data-level="1.3" data-path="r-package-development.html"><a href="r-package-development.html#debugging"><i class="fa fa-check"></i><b>1.3</b> Debugging</a></li>
<li class="chapter" data-level="1.4" data-path="r-package-development.html"><a href="r-package-development.html#testing-code"><i class="fa fa-check"></i><b>1.4</b> Testing code</a></li>
<li class="chapter" data-level="1.5" data-path="r-package-development.html"><a href="r-package-development.html#documenting-code"><i class="fa fa-check"></i><b>1.5</b> Documenting code</a></li>
<li class="chapter" data-level="1.6" data-path="r-package-development.html"><a href="r-package-development.html#checking-code"><i class="fa fa-check"></i><b>1.6</b> Checking code</a></li>
<li class="chapter" data-level="1.7" data-path="r-package-development.html"><a href="r-package-development.html#static-code-analysis"><i class="fa fa-check"></i><b>1.7</b> Static code analysis</a><ul>
<li class="chapter" data-level="1.7.1" data-path="r-package-development.html"><a href="r-package-development.html#running-examples"><i class="fa fa-check"></i><b>1.7.1</b> Running examples</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="r-package-development.html"><a href="r-package-development.html#code-coverage"><i class="fa fa-check"></i><b>1.8</b> Code coverage</a></li>
<li class="chapter" data-level="1.9" data-path="r-package-development.html"><a href="r-package-development.html#profiling-and-benchmarking"><i class="fa fa-check"></i><b>1.9</b> Profiling and benchmarking</a></li>
<li class="chapter" data-level="1.10" data-path="r-package-development.html"><a href="r-package-development.html#creating-a-landing-page"><i class="fa fa-check"></i><b>1.10</b> Creating a landing page</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="programming-paradigma-in-r.html"><a href="programming-paradigma-in-r.html"><i class="fa fa-check"></i><b>2</b> Programming paradigma in R</a><ul>
<li class="chapter" data-level="2.1" data-path="programming-paradigma-in-r.html"><a href="programming-paradigma-in-r.html#functional-programming"><i class="fa fa-check"></i><b>2.1</b> Functional programming</a></li>
<li class="chapter" data-level="2.2" data-path="programming-paradigma-in-r.html"><a href="programming-paradigma-in-r.html#object-oriented-programming"><i class="fa fa-check"></i><b>2.2</b> Object-oriented programming</a><ul>
<li class="chapter" data-level="2.2.1" data-path="programming-paradigma-in-r.html"><a href="programming-paradigma-in-r.html#s3"><i class="fa fa-check"></i><b>2.2.1</b> S3</a></li>
<li class="chapter" data-level="2.2.2" data-path="programming-paradigma-in-r.html"><a href="programming-paradigma-in-r.html#s4"><i class="fa fa-check"></i><b>2.2.2</b> S4</a></li>
<li class="chapter" data-level="2.2.3" data-path="programming-paradigma-in-r.html"><a href="programming-paradigma-in-r.html#r6"><i class="fa fa-check"></i><b>2.2.3</b> R6</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-extensions.html"><a href="r-extensions.html"><i class="fa fa-check"></i><b>3</b> R extensions</a><ul>
<li class="chapter" data-level="3.1" data-path="r-extensions.html"><a href="r-extensions.html#c-and-rcpp"><i class="fa fa-check"></i><b>3.1</b> C++ and Rcpp</a><ul>
<li class="chapter" data-level="3.1.1" data-path="r-extensions.html"><a href="r-extensions.html#rcpp-in-a-package"><i class="fa fa-check"></i><b>3.1.1</b> Rcpp in a package</a></li>
<li class="chapter" data-level="3.1.2" data-path="r-extensions.html"><a href="r-extensions.html#writing-c"><i class="fa fa-check"></i><b>3.1.2</b> Writing <code>C++</code></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="r-extensions.html"><a href="r-extensions.html#fortran"><i class="fa fa-check"></i><b>3.2</b> Fortran</a></li>
<li class="chapter" data-level="3.3" data-path="r-extensions.html"><a href="r-extensions.html#reticulate"><i class="fa fa-check"></i><b>3.3</b> Reticulate</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="working-with-data.html"><a href="working-with-data.html"><i class="fa fa-check"></i><b>4</b> Working with data</a><ul>
<li class="chapter" data-level="4.1" data-path="working-with-data.html"><a href="working-with-data.html#tidyverse"><i class="fa fa-check"></i><b>4.1</b> tidyverse</a></li>
<li class="chapter" data-level="4.2" data-path="working-with-data.html"><a href="working-with-data.html#data.table"><i class="fa fa-check"></i><b>4.2</b> data.table</a></li>
<li class="chapter" data-level="4.3" data-path="working-with-data.html"><a href="working-with-data.html#data-structures"><i class="fa fa-check"></i><b>4.3</b> Data structures</a></li>
<li class="chapter" data-level="4.4" data-path="working-with-data.html"><a href="working-with-data.html#databases"><i class="fa fa-check"></i><b>4.4</b> Databases</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-analysis-and-statistical-modeling.html"><a href="data-analysis-and-statistical-modeling.html"><i class="fa fa-check"></i><b>5</b> Data analysis and statistical modeling</a><ul>
<li class="chapter" data-level="5.1" data-path="data-analysis-and-statistical-modeling.html"><a href="data-analysis-and-statistical-modeling.html#stan"><i class="fa fa-check"></i><b>5.1</b> Stan</a><ul>
<li class="chapter" data-level="5.1.1" data-path="data-analysis-and-statistical-modeling.html"><a href="data-analysis-and-statistical-modeling.html#rstanarm"><i class="fa fa-check"></i><b>5.1.1</b> Rstanarm</a></li>
<li class="chapter" data-level="5.1.2" data-path="data-analysis-and-statistical-modeling.html"><a href="data-analysis-and-statistical-modeling.html#brms"><i class="fa fa-check"></i><b>5.1.2</b> brms</a></li>
<li class="chapter" data-level="5.1.3" data-path="data-analysis-and-statistical-modeling.html"><a href="data-analysis-and-statistical-modeling.html#bayesplot"><i class="fa fa-check"></i><b>5.1.3</b> bayesplot</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data-analysis-and-statistical-modeling.html"><a href="data-analysis-and-statistical-modeling.html#greta"><i class="fa fa-check"></i><b>5.2</b> greta</a></li>
<li class="chapter" data-level="5.3" data-path="data-analysis-and-statistical-modeling.html"><a href="data-analysis-and-statistical-modeling.html#mcmc"><i class="fa fa-check"></i><b>5.3</b> MCMC</a></li>
<li class="chapter" data-level="5.4" data-path="data-analysis-and-statistical-modeling.html"><a href="data-analysis-and-statistical-modeling.html#mlr-and-openml"><i class="fa fa-check"></i><b>5.4</b> mlR and openML</a></li>
<li class="chapter" data-level="5.5" data-path="data-analysis-and-statistical-modeling.html"><a href="data-analysis-and-statistical-modeling.html#tensorflow"><i class="fa fa-check"></i><b>5.5</b> Tensorflow</a></li>
<li class="chapter" data-level="5.6" data-path="data-analysis-and-statistical-modeling.html"><a href="data-analysis-and-statistical-modeling.html#keras"><i class="fa fa-check"></i><b>5.6</b> Keras</a></li>
<li class="chapter" data-level="5.7" data-path="data-analysis-and-statistical-modeling.html"><a href="data-analysis-and-statistical-modeling.html#statistical-learning"><i class="fa fa-check"></i><b>5.7</b> Statistical learning</a></li>
<li class="chapter" data-level="5.8" data-path="data-analysis-and-statistical-modeling.html"><a href="data-analysis-and-statistical-modeling.html#big-data-analytics"><i class="fa fa-check"></i><b>5.8</b> Big data analytics</a></li>
<li class="chapter" data-level="5.9" data-path="data-analysis-and-statistical-modeling.html"><a href="data-analysis-and-statistical-modeling.html#others"><i class="fa fa-check"></i><b>5.9</b> Others</a><ul>
<li class="chapter" data-level="5.9.1" data-path="data-analysis-and-statistical-modeling.html"><a href="data-analysis-and-statistical-modeling.html#modelr"><i class="fa fa-check"></i><b>5.9.1</b> modelr</a></li>
<li class="chapter" data-level="5.9.2" data-path="data-analysis-and-statistical-modeling.html"><a href="data-analysis-and-statistical-modeling.html#kernlab"><i class="fa fa-check"></i><b>5.9.2</b> kernlab</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="optimization.html"><a href="optimization.html"><i class="fa fa-check"></i><b>6</b> Optimization</a><ul>
<li class="chapter" data-level="6.1" data-path="optimization.html"><a href="optimization.html#convex-optimization"><i class="fa fa-check"></i><b>6.1</b> Convex optimization</a></li>
<li class="chapter" data-level="6.2" data-path="optimization.html"><a href="optimization.html#non-linear-optimizaton"><i class="fa fa-check"></i><b>6.2</b> Non-linear optimizaton</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="plotting-reporting-and-visualizing.html"><a href="plotting-reporting-and-visualizing.html"><i class="fa fa-check"></i><b>7</b> Plotting, reporting and visualizing</a><ul>
<li class="chapter" data-level="7.1" data-path="plotting-reporting-and-visualizing.html"><a href="plotting-reporting-and-visualizing.html#layout"><i class="fa fa-check"></i><b>7.1</b> Layout</a></li>
<li class="chapter" data-level="7.2" data-path="plotting-reporting-and-visualizing.html"><a href="plotting-reporting-and-visualizing.html#publication-ready-plots"><i class="fa fa-check"></i><b>7.2</b> Publication ready plots</a></li>
<li class="chapter" data-level="7.3" data-path="plotting-reporting-and-visualizing.html"><a href="plotting-reporting-and-visualizing.html#colors"><i class="fa fa-check"></i><b>7.3</b> Colors</a></li>
<li class="chapter" data-level="7.4" data-path="plotting-reporting-and-visualizing.html"><a href="plotting-reporting-and-visualizing.html#interactive-and-animated-plots"><i class="fa fa-check"></i><b>7.4</b> Interactive and animated plots</a></li>
<li class="chapter" data-level="7.5" data-path="plotting-reporting-and-visualizing.html"><a href="plotting-reporting-and-visualizing.html#graphs"><i class="fa fa-check"></i><b>7.5</b> Graphs</a></li>
<li class="chapter" data-level="7.6" data-path="plotting-reporting-and-visualizing.html"><a href="plotting-reporting-and-visualizing.html#rmarkdown"><i class="fa fa-check"></i><b>7.6</b> RMarkdown</a></li>
<li class="chapter" data-level="7.7" data-path="plotting-reporting-and-visualizing.html"><a href="plotting-reporting-and-visualizing.html#shiny"><i class="fa fa-check"></i><b>7.7</b> Shiny</a></li>
<li class="chapter" data-level="7.8" data-path="plotting-reporting-and-visualizing.html"><a href="plotting-reporting-and-visualizing.html#others-1"><i class="fa fa-check"></i><b>7.8</b> Others</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="miscellaneous.html"><a href="miscellaneous.html"><i class="fa fa-check"></i><b>8</b> Miscellaneous</a><ul>
<li class="chapter" data-level="8.1" data-path="miscellaneous.html"><a href="miscellaneous.html#workflow-management"><i class="fa fa-check"></i><b>8.1</b> Workflow management</a></li>
<li class="chapter" data-level="8.2" data-path="miscellaneous.html"><a href="miscellaneous.html#pry-back-the-covers-of-r"><i class="fa fa-check"></i><b>8.2</b> Pry back the covers of R</a></li>
<li class="chapter" data-level="8.3" data-path="miscellaneous.html"><a href="miscellaneous.html#tidy-evaluation"><i class="fa fa-check"></i><b>8.3</b> Tidy evaluation</a></li>
<li class="chapter" data-level="8.4" data-path="miscellaneous.html"><a href="miscellaneous.html#compile"><i class="fa fa-check"></i><b>8.4</b> Compile</a></li>
<li class="chapter" data-level="8.5" data-path="miscellaneous.html"><a href="miscellaneous.html#others-2"><i class="fa fa-check"></i><b>8.5</b> Others</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="good-practices.html"><a href="good-practices.html"><i class="fa fa-check"></i><b>9</b> Good practices</a><ul>
<li class="chapter" data-level="9.1" data-path="good-practices.html"><a href="good-practices.html#continuous-integration"><i class="fa fa-check"></i><b>9.1</b> Continuous integration</a></li>
<li class="chapter" data-level="9.2" data-path="good-practices.html"><a href="good-practices.html#version-control"><i class="fa fa-check"></i><b>9.2</b> Version control</a></li>
<li class="chapter" data-level="9.3" data-path="good-practices.html"><a href="good-practices.html#docker"><i class="fa fa-check"></i><b>9.3</b> Docker</a></li>
<li class="chapter" data-level="9.4" data-path="good-practices.html"><a href="good-practices.html#code-style"><i class="fa fa-check"></i><b>9.4</b> Code style</a></li>
<li class="chapter" data-level="9.5" data-path="good-practices.html"><a href="good-practices.html#debugging-c-from-r"><i class="fa fa-check"></i><b>9.5</b> Debugging C++ from R</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Essential R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="good-practices" class="section level1">
<h1><span class="header-section-number">9</span> Good practices</h1>
<p>Continuous integration, version control and containerization are three of the many tools of a developer. Here, I quickly introduce how the three can be used for <code>R</code>.</p>
<div id="continuous-integration" class="section level2">
<h2><span class="header-section-number">9.1</span> Continuous integration</h2>
<p>To be honest, doing all the steps from the section above is tedious and annoying. For that reason I set up Travis CI to take care of running our tests, static analysis and code coverage in the project. Travis works for Mac and Unix.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">cat</span> ./pkg/.travis.yml</code></pre></div>
<pre><code>language: r

sudo: required
dist: trusty

cache: packages

matrix:
  include:
    - compiler: gcc
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          packages:
            - g++-5
      env: COMPILER=g++-5
    - compiler: clang
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
            - llvm-toolchain-precise-3.7
          packages:
            - clang-3.7
      env: COMPILER=clang++-3.7

env:
  global:
    - R_BUILD_ARGS=&quot;--no-build-vignettes --no-manual&quot;
    - R_CHECK_ARGS=&quot;--no-build-vignettes --no-manual --as-cran&quot;
    - LINTR_COMMENT_BOT=false

before_install:
  - cd newpkg

r_packages:
  - covr
  - testthat
  - lintr

after_script:
  - tar -C .. -xf $PKG_TARBALL
  - Rscript -e &#39;covr::codecov()&#39;
  - Rscript -e &#39;lintr::lint_package()&#39;</code></pre>
<p>Check out Travis’ <a href="https://docs.travis-ci.com/">docs</a> for more info. What we are basically telling Travis to do is to check our package <code>--as-cran</code>, run the unit tests, do the code coverage and finally do a static code analysis.</p>
<p>In order to do the same for Windows machines, we also use AppVeyor.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">cat</span> ./pkg/appveyor.yml</code></pre></div>
<pre><code># DO NOT CHANGE the &quot;init&quot; and &quot;install&quot; sections below

# Download script file from GitHub
init:
  ps: |
        $ErrorActionPreference = &quot;Stop&quot;
        Invoke-WebRequest http://raw.github.com/krlmlr/r-appveyor/master/scripts/appveyor-tool.ps1 -OutFile &quot;..\appveyor-tool.ps1&quot;
        Import-Module &#39;..\appveyor-tool.ps1&#39;

install:
  ps: Bootstrap

# Adapt as necessary starting from here

before_build:
  ps: cd newpkg

build_script:
  - ps: cd newpkg
  - travis-tool.sh install_deps

test_script:
  - travis-tool.sh run_tests

on_failure:
  - 7z a failure.zip *.Rcheck\*
  - appveyor PushArtifact failure.zip

artifacts:
  - path: &#39;*.Rcheck\**\*.log&#39;
    name: Logs

  - path: &#39;*.Rcheck\**\*.out&#39;
    name: Logs

  - path: &#39;*.Rcheck\**\*.fail&#39;
    name: Logs

  - path: &#39;*.Rcheck\**\*.Rout&#39;
    name: Logs

  - path: &#39;\*_*.tar.gz&#39;
    name: Bits

  - path: &#39;\*_*.zip&#39;
    name: Bits</code></pre>
<p>Here, we only run some tests and checks, since we already got the code analysis and coverage.</p>
<p>Code coverage of our project yielded us the following results:</p>
<div align="center">
<p><img src="https://codecov.io/gh/dirmeier/essential-R/branch/master/graphs/sunburst.svg" alt="no img"></p>
</div>
<div style="text-align: center">
<p>Code coverage</p>
</div>
<p>If we check the travis log, we see it has succeeded, because all tests ran through. However, we have some lints we should fix.</p>
<pre><code>$ tar -C .. -xf $PKG_TARBALL
after_script.2
2.22s$ Rscript -e 'covr::codecov()'
$message
[1] "Coverage reports upload successfully"
$id
[1] "552fd0db-187b-434e-b37b-a0e4fcba7636"
$meta
$meta$status
[1] 200
$queued
[1] TRUE
$url
[1] "https://codecov.io/github/dirmeier/essential-R/commit/f24d277296f78512524f26f3ca3b31d202e122a1"
$uploaded
[1] TRUE
after_script.3
1.23s$ Rscript -e 'lintr::lint_package()'
R/bad_bad_file.R:3:1: style: lines should not be more than 80 characters.
                                                                              myRet = a+b
^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
R/bad_bad_file.R:3:79: style: Variable and function names should be all lowercase.
                                                                              myRet = a+b
                                                                              ^~~~~
R/bad_bad_file.R:3:85: style: Use <-, not =, for assignment.
                                                                              myRet = a+b
                                                                                    ^
Warning message:
In readLines(filename) :
  incomplete final line found on '/home/travis/build/dirmeier/essential-R/pkg/R/emptypRoject-package.R'
Done. Your build exited with 0.</code></pre>
<p>Fixing style related issues is essential since we want other people to be able to read our code easily. Good code also increases the number of users, because the package is more trusted than a <em>spaghetti code</em> package.</p>
<div class="quote" style="text-align: center; margin-top: 5%">
<p><i>Beauty is more important in computing than anywhere else in technology because software is so complicated. Beauty is the ultimate defense against complexity.</i><br></p>
</div>
<div class="quote" style="text-align: right; margin-bottom: 5% ">
<p><span style="text-align: right;">– David Gelernter</p>
</div>
</div>
<div id="version-control" class="section level2">
<h2><span class="header-section-number">9.2</span> Version control</h2>
<p>Aside from he fact that version control is great, putting your project on GitHub has the most prominent advantage that you can add badges to your <code>README.md</code> to show others about the state of your package, for instance repository, CI or code coverage status.</p>
<div align="center">
<p><img src="https://rawgit.com/dirmeier/essential-R/master/fig/readme_me.jpg" alt="oh no" width="750px"></p>
</div>
There’s a wide variety of badges to describe your project.
<div align="center">
<table>
<thead>
<tr class="header">
<th>Description</th>
<th>Badge</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Is the project passing on windows?</td>
<td><img src="https://ci.appveyor.com/api/projects/status/github/dirmeier/netReg?branch=master&svg=true"></td>
</tr>
<tr class="even">
<td>How long is it on Bioconductor?</td>
<td><img src="https://bioconductor.org/shields/years-in-bioc/netReg.svg" /></td>
</tr>
<tr class="odd">
<td>Is it installable using conda?</td>
<td><img src="https://anaconda.org/bioconda/netreg/badges/installer/conda.svg" /></td>
</tr>
<tr class="even">
<td>What is its version on CRAN?</td>
<td><img src="http://www.r-pkg.org/badges/version/datastructures?color=brightgreen" /></td>
</tr>
<tr class="odd">
<td>How often has it been downloaded?</td>
<td><img src="http://cranlogs.r-pkg.org/badges/grand-total/datastructures?color=brightgreen" /></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="docker" class="section level2">
<h2><span class="header-section-number">9.3</span> Docker</h2>
<p>TODO (needed for debugging c++)</p>
</div>
<div id="code-style" class="section level2">
<h2><span class="header-section-number">9.4</span> Code style</h2>
<p>I try to follow two general guidelines when writing code. These are primarily not my personal preferences, nut adopted form packages like <code>data.table</code>, <code>lme4</code>, <code>Matrix</code> or Bioconductor. Whatever you do, just be consistent. There seem to be a lot of different preference around.</p>
<p>If I mainly write using <code>S3</code> classes and functions I prefer writing code like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my.var &lt;-<span class="st"> &quot;2&quot;</span>

i.am.a.function &lt;-<span class="st"> </span><span class="cf">function</span>(i) {
    <span class="kw">sapply</span>(<span class="kw">seq</span>(<span class="dv">10</span>), <span class="cf">function</span>(i) {
        i <span class="op">+</span><span class="st"> </span><span class="dv">1</span>
    })
}

plot.me &lt;-<span class="st"> </span><span class="cf">function</span>(x, ...) <span class="kw">plot.default</span>(x)

.i.am.private &lt;-<span class="st"> &quot;2&quot;</span></code></pre></div>
<p>For <code>S4</code> classes and functions I recommend using the <a href="https://www.bioconductor.org/developers/how-to/coding-style/">Bioconductor</a> style guide or how <code>lme4</code> and <code>Matrix</code> do it:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setMethod</span>(<span class="st">&quot;camelCaps&quot;</span>, <span class="dt">signature =</span> <span class="kw">signature</span>(<span class="dt">iAmAList =</span> <span class="st">&quot;list&quot;</span>))</code></pre></div>
</div>
<div id="debugging-c-from-r" class="section level2">
<h2><span class="header-section-number">9.5</span> Debugging C++ from R</h2>
<p>TODO</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="miscellaneous.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"all": false,
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
