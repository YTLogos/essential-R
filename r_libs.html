<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>R libraries</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/lumen.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/htmlwidgets-1.0/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.7.1/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotlyjs-1.29.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotlyjs-1.29.2/plotly-latest.min.js"></script>
<script src="site_libs/proj4js-2.3.15/proj4.js"></script>
<link href="site_libs/highcharts-5.0.6/css/motion.css" rel="stylesheet" />
<script src="site_libs/highcharts-5.0.6/highstock.js"></script>
<script src="site_libs/highcharts-5.0.6/highcharts-3d.js"></script>
<script src="site_libs/highcharts-5.0.6/highcharts-more.js"></script>
<script src="site_libs/highcharts-5.0.6/modules/annotations.js"></script>
<script src="site_libs/highcharts-5.0.6/modules/broken-axis.js"></script>
<script src="site_libs/highcharts-5.0.6/modules/data.js"></script>
<script src="site_libs/highcharts-5.0.6/modules/drilldown.js"></script>
<script src="site_libs/highcharts-5.0.6/modules/exporting.js"></script>
<script src="site_libs/highcharts-5.0.6/modules/funnel.js"></script>
<script src="site_libs/highcharts-5.0.6/modules/heatmap.js"></script>
<script src="site_libs/highcharts-5.0.6/modules/map.js"></script>
<script src="site_libs/highcharts-5.0.6/modules/no-data-to-display.js"></script>
<script src="site_libs/highcharts-5.0.6/modules/offline-exporting.js"></script>
<script src="site_libs/highcharts-5.0.6/modules/solid-gauge.js"></script>
<script src="site_libs/highcharts-5.0.6/modules/treemap.js"></script>
<script src="site_libs/highcharts-5.0.6/plugins/annotations.js"></script>
<script src="site_libs/highcharts-5.0.6/plugins/draggable-legend.js"></script>
<script src="site_libs/highcharts-5.0.6/plugins/draggable-points.js"></script>
<script src="site_libs/highcharts-5.0.6/plugins/export-csv.js"></script>
<script src="site_libs/highcharts-5.0.6/plugins/grouped-categories.js"></script>
<script src="site_libs/highcharts-5.0.6/plugins/motion.js"></script>
<script src="site_libs/highcharts-5.0.6/plugins/pattern-fill-v2.js"></script>
<script src="site_libs/highcharts-5.0.6/plugins/tooltip-delay.js"></script>
<script src="site_libs/highcharts-5.0.6/custom/reset.js"></script>
<script src="site_libs/highcharts-5.0.6/custom/symbols-extra.js"></script>
<script src="site_libs/highcharts-5.0.6/custom/text-symbols.js"></script>
<link href="site_libs/fontawesome-4.5.0/font-awesome.min.css" rel="stylesheet" />
<link href="site_libs/htmlwdgtgrid-1/htmlwdgtgrid.css" rel="stylesheet" />
<script src="site_libs/highchart-binding-0.5.0/highchart.js"></script>
<script src="site_libs/detect-resize-0.5.3/jquery.resize.js"></script>
<link href="site_libs/jquery-ui-1.11.4/jquery-ui.min.css" rel="stylesheet" />
<script src="site_libs/jquery-ui-1.11.4/jquery-ui.min.js"></script>
<script src="site_libs/d3-3.5.2/d3.min.js"></script>
<script src="site_libs/vega-1.4.3/vega.min.js"></script>
<script src="site_libs/lodash-2.2.1/lodash.min.js"></script>
<script>var lodash = _.noConflict();</script>
<link href="site_libs/ggvis-0.4.3/css/ggvis.css" rel="stylesheet" />
<script src="site_libs/ggvis-0.4.3/js/ggvis.js"></script>
<script src="site_libs/viz-0.3/viz.js"></script>
<link href="site_libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="site_libs/grViz-binding-1.0.0/grViz.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="theme.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 54px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 59px;
  margin-top: -59px;
}

.section h2 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h3 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h4 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h5 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h6 {
  padding-top: 59px;
  margin-top: -59px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Essential-R</a>
</li>
<li>
  <a href="r_devel.html">R development</a>
</li>
<li>
  <a href="good_practices.html">Good practices</a>
</li>
<li>
  <a href="r_libs.html">R libraries</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://simon-dirmeier.net">
    <span class="fa fa fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/dirmeier/essential-R">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://twitter.com/simon_dirmeier/">
    <span class="fa fa fa fa-twitter-square fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">R libraries</h1>

</div>


<p>Much of R’s popularity is due to its fantastic ecosystem. R users benefit heavily from CRAN and Bioconductor packages created by its community. For data analysis or statistics R is a good choice for various reasons:</p>
<ul>
<li>high-level,</li>
<li>easy to install packages,</li>
<li>can be extended to C++ without needing knowledge of linking or C++ build-systems,</li>
<li>probably the best plotting facility with ggplot, cowplot, hrbrthemes, ggsci and others,</li>
<li>Bioconductor, machine learning and statistics libraries,</li>
<li>small standard library.</li>
</ul>
<p>There are a few things, however, R is not so great at:</p>
<ul>
<li>in general slow,</li>
<li>not really suited for large projects,</li>
<li>poor object orientation,</li>
<li>inconsistent function names,</li>
<li>very limited threading capabilities.</li>
</ul>
<p>For stats, data analysis and writing reports I find R still superior to Python, partly due to <code>Rmarkdown</code>, <code>shiny</code>, <code>ggplot2</code> and <code>Rcpp</code>.</p>
<div id="data-wrangling" class="section level1">
<h1>Data wrangling</h1>
<p>Every analysis of data starts with preprocessing and parsing. For this I’ve found <code>dplyr</code> and <code>tidyr</code> tremendously useful. There are many more great tools in the tidyverse and Rstudio, such as <code>purrr</code> (explained later), <code>magrittr</code> or <code>tibble</code>, but these two simlify most of my work.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="kw">data</span>(iris)
<span class="kw">group_by</span>(iris, Species) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarize</span>(<span class="dt">Petal.Length =</span> <span class="kw">mean</span>(Petal.Length), <span class="dt">Sepal.Length =</span> <span class="kw">mean</span>(Sepal.Length)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">Species =</span> <span class="kw">toupper</span>(Species))</code></pre></div>
<pre><code># A tibble: 3 x 3
  Species    Petal.Length Sepal.Length
  &lt;chr&gt;             &lt;dbl&gt;        &lt;dbl&gt;
1 SETOSA             1.46         5.01
2 VERSICOLOR         4.26         5.94
3 VIRGINICA          5.55         6.59</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tidyr<span class="op">::</span><span class="kw">gather</span>(iris, Col, Val, <span class="op">-</span>Species) <span class="op">%&gt;%</span><span class="st"> </span>head</code></pre></div>
<pre><code>  Species          Col Val
1  setosa Sepal.Length 5.1
2  setosa Sepal.Length 4.9
3  setosa Sepal.Length 4.7
4  setosa Sepal.Length 4.6
5  setosa Sepal.Length 5.0
6  setosa Sepal.Length 5.4</code></pre>
</div>
<div id="extending-to-c-using-rcpp" class="section level1">
<h1>Extending to C++ using Rcpp</h1>
<p>Using Rcpp (and RcppEigen, RcppArmadillo, Boost) you can easily your extend your code to C++. It not only nicely wraps the standard C API, but also let’s you use standard matrix libraries such as Eigen and Armadillo or Boost.</p>
<p>If you have a project that’s not a package you can for instance create a function like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Rcpp<span class="op">::</span><span class="kw">cppFunction</span>(<span class="st">&quot;double sum(std::vector&lt;double&gt;&amp; vec) {</span>
<span class="st">      double sum = .0;</span>
<span class="st">      for (std::vector&lt;double&gt;::size_type i = 0; i &lt; vec.size(); ++i)</span>
<span class="st">          sum += vec[i];</span>
<span class="st">      return sum;</span>
<span class="st">  }&quot;</span>)

<span class="kw">sum</span>(<span class="kw">as.numeric</span>(<span class="kw">seq</span>(<span class="dv">10</span>)))</code></pre></div>
<pre><code>[1] 55</code></pre>
<p>Let’s have a look at an Eigen example with sourceCpp:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">  <span class="fu">cat</span> ./square.cpp</code></pre></div>
<pre><code>// [[Rcpp::depends(RcppEigen)]]
#include &lt;RcppEigen.h&gt;

// [[Rcpp::export]]
Eigen::MatrixXd square(Eigen::MatrixXd&amp; m)
{
    return m.transpose() * m;
}</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;RcppEigen&quot;</span>)
Rcpp<span class="op">::</span><span class="kw">sourceCpp</span>(<span class="st">&quot;./square.cpp&quot;</span>)
<span class="kw">square</span>(<span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">10</span>), <span class="dv">2</span>))</code></pre></div>
<pre><code>           [,1]      [,2]      [,3]      [,4]       [,5]
[1,]  3.9154172 -2.399031  3.124316 -1.158573 -0.9522277
[2,] -2.3990312  2.412661 -2.510712  1.753117  2.2633663
[3,]  3.1243161 -2.510712  2.870351 -1.584465 -1.8225898
[4,] -1.1585735  1.753117 -1.584465  1.497280  2.1407760
[5,] -0.9522277  2.263366 -1.822590  2.140776  3.2251294</code></pre>
<p>Even for small matrices, the speed up is already substantial.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">m &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">100</span> <span class="op">*</span><span class="st"> </span><span class="dv">100</span>), <span class="dv">100</span>)
microbenchmark<span class="op">::</span><span class="kw">microbenchmark</span>(<span class="kw">square</span>(m), <span class="kw">t</span>(m) <span class="op">%*%</span><span class="st"> </span>m)</code></pre></div>
<pre><code>Unit: microseconds
       expr     min      lq      mean   median       uq      max neval cld
  square(m) 220.188 329.535  516.6047 420.7075  517.308 3315.429   100  a 
 t(m) %*% m 647.199 806.076 1237.3398 939.7165 1352.623 5522.402   100   b</code></pre>
<div id="rcpp-in-a-package" class="section level2">
<h2>Rcpp in a package</h2>
<p>Usually, you would want to put your source code into a <code>cpp</code> file in the <code>src</code> folder. Then you can call C++ from an R function, for instance as described below.</p>
<ol style="list-style-type: decimal">
<li>Define a C++ source file and put it in <code>src</code>, like this:</li>
</ol>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">  <span class="pp">#include </span><span class="im">&lt;Rcpp.h&gt;</span>
  <span class="co">// [[Rcpp::export]]</span>
  Rcpp::List dostuff()
  {
    <span class="co">// some computations</span>

    <span class="cf">return</span> Rcpp::List::create(
      Rcpp::Named(<span class="st">&quot;a&quot;</span>) = ...
    );
  }</code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Add this to your <code>DESCRIPTION</code>:</li>
</ol>
<pre><code>Imports: Rcpp
LinkingTo: Rcpp</code></pre>
<ol start="3" style="list-style-type: decimal">
<li><p>Add a comment <code>#' @useDynLib newpkg, .registration = TRUE</code> to the documentation of any function, better yet to the package doc.</p></li>
<li><p>Call <code>devtools::document()</code></p></li>
<li><p>Call <code>Rcpp::compileAttributes(&quot;./newpkg&quot;)</code></p></li>
</ol>
<p>This should let you access the C++ function from your package. For more details check out the main <a href="http://www.rcpp.org/">documentation</a> or some of my packages, like <a href="https://github.com/dirmeier/netReg">netReg</a> or <a href="https://github.com/dirmeier/datastructures">datastructures</a>. The latter also has an example how to use modules and Boost.</p>
</div>
<div id="writing-c" class="section level2">
<h2>Writing <code>C++</code></h2>
<p>Here are some tools that help you develop your code:</p>
<ul>
<li>gdb and lldb for debugging,</li>
<li>valgrind and gprof to check for memory leaks and for profiling,</li>
<li>Intel’s Parallel Studio XE (&lt;3) which is a toolbox for vectorization, debugging, memory checks, etc. If you can get hold of it, get it. It is magnificent.</li>
<li>Boost for unit tests, data structures and basically everything you ever need,</li>
<li>cppcheck for static code analysis,</li>
<li>doxygen for code documentation.</li>
</ul>
<p>Many C++ libraries, like Dlib, Eigen or tensorflow have an R interface, so before implementing functionality yourself check out if there is already an implementation for it.</p>
<p>At this point it also makes sense to have a look at various C++ books such as</p>
<ul>
<li>Scott Meyers: Effective Modern C++,</li>
<li>Scott Meyers: Effective C++,</li>
<li>Ben Klemens: 21. century C,</li>
<li>Kurt Guntheroth: Optimized C++,</li>
<li>Nicolai Josuttis: C++17 - the complete guide,</li>
<li>David Vandevoorde: C++ Templates - the compete guide.</li>
</ul>
<p>For fast numerical code OpenMP and advanced vector and streaming SIMD extensions (AVX/SSE) is often the way to go. Writing good code using AVX is however not very simple and knowledge of memory alignment is required. However, starting from version 4 (?), OpenMP easily allows vectorization using <code>#pragma simd</code>.</p>
<p><strong>Note: the last lines in this section are heavily subjective and only state the author’s opinion.</strong> <em>More and more garbage code is forced onto the scientific community, mostly related to academic hubris and lack of knowledge about how to </em>program* (we don’t mean how to <em>accomplish a task using a programming language</em>, but to embrace a language and its philosophy at its very core). If you aim to publish your code, make sure it follows <em>contemporary</em> good practices, standards and guidelines and that it is consistent, for instance by following people’s code who are part of the community for ages. At this point we want to emphasize that the author doesn’t claim to know C++, but rather that he is annoyed by this very trend.*</p>
<p>C++ is a large, complex language. Chances that you mess up, introduce bugs and memory leaks are high, unless you have some experience. In academia in mostly results in bad, un-maintainable code. If your argument is <em>but it is faster than R</em>, at least have a look at Fortran, Julia or Python (and <code>numpy</code>). If you still prefer hacking in C++ try to stick to some guidelines:</p>
<ul>
<li>don’t include C headers in your C++ projects .. just don’t. C and C++ are <strong>two</strong> languages. There is for need for <code>FILE*</code> or <code>malloc</code>.</li>
<li>modern C++ rarely needs pointers. Use <code>std::vector</code> or <code>std::unique_ptr</code>. No need to manually release pointers is an advantage of itself.</li>
<li>BOOST has (probably) everything you will ever need. Don’t reinvent the wheel and learn to include libraries in your project.</li>
<li>Learn how to use Cmake, Meson or autotools. You should <strong>never</strong> need to directly invoke a compiler or write a hard-coded Makefile.</li>
<li>Only because you have a PhD or M. Sc. in CS does not make you a prolific programmer. It requires staying up to date, <strong>reading other people’s code</strong> and embracing of new ideas and the very philosophy of the language and its community.</li>
<li>Print warnings. They are usually there for a reason.</li>
<li>Start a toy project or contribute to OSS projects.</li>
</ul>
</div>
</div>
<div id="functional-programming" class="section level1">
<h1>Functional programming</h1>
<p><code>purrr</code> is a functional programming toolkit, much like the <code>apply</code> class of functions. However, purrr does so in a more unified way with consistent return values. Furthermore, in combination with <code>magrittr</code>, the code you write is naturally more concise and easier to read.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;purrr&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;ggplot2&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;repurrrsive&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;magrittr&quot;</span>)
utils<span class="op">::</span><span class="kw">head</span>(sw_people[[<span class="dv">1</span>]])</code></pre></div>
<pre><code>$name
[1] &quot;Luke Skywalker&quot;

$height
[1] &quot;172&quot;

$mass
[1] &quot;77&quot;

$hair_color
[1] &quot;blond&quot;

$skin_color
[1] &quot;fair&quot;

$eye_color
[1] &quot;blue&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw">map_dfr</span>(sw_people, <span class="dt">.f =</span> <span class="cf">function</span>(.) <span class="kw">data.frame</span>(<span class="dt">color =</span> .[[<span class="st">&quot;eye_color&quot;</span>]], 
    <span class="dt">height =</span> .[[<span class="st">&quot;height&quot;</span>]], <span class="dt">mass =</span> .[[<span class="st">&quot;mass&quot;</span>]]))
utils<span class="op">::</span><span class="kw">head</span>(df)</code></pre></div>
<pre><code>   color height mass
1   blue    172   77
2 yellow    167   75
3    red     96   32
4 yellow    202  136
5  brown    150   49
6   blue    178  120</code></pre>
</div>
<div id="plotting" class="section level1">
<h1>Plotting</h1>
<p>One of the most significant reasons to use R is probably its plotting capabilities and people contributing to ggplot2 and the community’s effort of adding package that integrate with it. Some nice packages for plotting are the following:</p>
<ul>
<li><code>hrbrthemes</code></li>
<li><code>ggthemes</code></li>
<li><code>cowplot</code></li>
<li><code>ggpubr</code></li>
<li><code>ggthemr</code></li>
<li><code>ggsci</code></li>
<li><code>viridis</code> and <code>viridisLite</code></li>
<li><code>colorspace</code> and <code>colorblindr</code></li>
<li><code>highcharter</code></li>
<li><code>patchwork</code></li>
<li><code>animation</code></li>
<li><code>plotly</code></li>
<li><code>lattice</code></li>
<li><code>magick</code></li>
<li><code>imager</code></li>
<li><code>scales</code></li>
<li><code>tweenr</code></li>
<li><code>ggraph</code>, <code>ggnet</code> and <code>ggnetwork</code></li>
<li><code>gganimate</code> and <code>animattion</code></li>
</ul>
<div id="layout" class="section level2">
<h2>Layout</h2>
<p>Use <code>hrbrthemes</code> for a nicer layout:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;hrbrthemes&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;ggsci&quot;</span>)
<span class="kw">import_roboto_condensed</span>()

g &lt;-<span class="st"> </span><span class="kw">ggplot</span>(df) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> height, <span class="dt">y =</span> mass, <span class="dt">color =</span> color)) <span class="op">+</span><span class="st"> </span>hrbrthemes<span class="op">::</span><span class="kw">theme_ipsum_rc</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">    </span>ggsci<span class="op">::</span><span class="kw">scale_color_rickandmorty</span>()
<span class="kw">print</span>(g)</code></pre></div>
<p><img src="r_libs_files/figure-html/unnamed-chunk-7-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Recently I started changing to simpler layouts and themes, for instance as described on <a href="http://motioninsocial.com/tufte/"> Tufte in R</a>. <code>ggthemes</code> offers some nice options to do so. For instance, if you are feeling jealous that you cannot draft some Excel plots, cause you are working with R:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;ggthemes&quot;</span>)

g &lt;-<span class="st"> </span><span class="kw">ggplot</span>(df) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> height, <span class="dt">y =</span> mass), <span class="dt">color =</span> <span class="st">&quot;green&quot;</span>) <span class="op">+</span><span class="st"> </span>ggthemes<span class="op">::</span><span class="kw">theme_excel</span>()
<span class="kw">print</span>(g)</code></pre></div>
<p><img src="r_libs_files/figure-html/blub-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="publication-ready-plots" class="section level2">
<h2>Publication ready plots</h2>
<p><code>cowplot</code> and <code>ggpubr</code> are great for greating publication ready plots:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(hp, disp)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span>ggthemes<span class="op">::</span><span class="kw">theme_tufte</span>()
p2 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(hp, disp)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span>ggthemes<span class="op">::</span><span class="kw">theme_gdocs</span>()

cowplot<span class="op">::</span><span class="kw">plot_grid</span>(p1, p2, <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">align =</span> <span class="st">&quot;vh&quot;</span>, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Nice&quot;</span>, <span class="st">&quot;Meh&quot;</span>))</code></pre></div>
<p><img src="r_libs_files/figure-html/cow-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>If these two are still not enough, I usually go with <code>patchwork</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(patchwork)
g <span class="op">+</span><span class="st"> </span>(p1 <span class="op">+</span><span class="st"> </span>p2) <span class="op">+</span><span class="st"> </span><span class="kw">plot_layout</span>(<span class="dt">ncol =</span> <span class="dv">1</span>)</code></pre></div>
<p><img src="r_libs_files/figure-html/patch-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="colors" class="section level2">
<h2>Colors</h2>
<p>I use <code>colorspace</code> and <code>colorblindr</code> in order to remove some hue and chroma. <code>viridis</code> is a wonderful set of colors for continuous, sequential data. For discrete, qualitative data I mainly use <code>ggthemr</code> and the <code>fresh</code> colors. <code>ggsci</code> also has some wonderful color palettes. <code>scales</code> lets you have a look at a color palette easily.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;colorspace&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;colorblindr&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;viridis&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;ggthemr&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;scales&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;cowplot&quot;</span>)
ggthemr<span class="op">::</span><span class="kw">ggthemr</span>(<span class="st">&quot;fresh&quot;</span>, <span class="st">&quot;scientific&quot;</span>, <span class="dt">spacing =</span> <span class="dv">2</span>, <span class="dt">type =</span> <span class="st">&quot;inner&quot;</span>)

p1 &lt;-<span class="st"> </span>colorblindr<span class="op">::</span><span class="kw">gg_color_gradient</span>() <span class="op">+</span><span class="st"> </span>colorspace<span class="op">::</span><span class="kw">scale_fill_continuous_sequential</span>(<span class="st">&quot;viridis&quot;</span>, 
    <span class="dt">c1 =</span> <span class="dv">20</span>, <span class="dt">c2 =</span> <span class="dv">70</span>, <span class="dt">l1 =</span> <span class="dv">25</span>, <span class="dt">l2 =</span> <span class="dv">100</span>)
p2 &lt;-<span class="st"> </span>colorblindr<span class="op">::</span><span class="kw">gg_color_gradient</span>() <span class="op">+</span><span class="st"> </span>colorspace<span class="op">::</span><span class="kw">scale_fill_continuous_sequential</span>(<span class="st">&quot;Blues&quot;</span>, 
    <span class="dt">c1 =</span> <span class="dv">20</span>, <span class="dt">c2 =</span> <span class="dv">70</span>, <span class="dt">l1 =</span> <span class="dv">25</span>, <span class="dt">l2 =</span> <span class="dv">100</span>)
p3 &lt;-<span class="st"> </span>colorblindr<span class="op">::</span><span class="kw">gg_color_gradient</span>() <span class="op">+</span><span class="st"> </span>colorspace<span class="op">::</span><span class="kw">scale_fill_continuous_diverging</span>(<span class="dt">c1 =</span> <span class="dv">40</span>)
df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">Col =</span> ggthemr<span class="op">::</span><span class="kw">swatch</span>()[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>], <span class="dt">X =</span> <span class="dv">1</span>, <span class="dt">Y =</span> <span class="kw">seq</span>(<span class="dv">10</span>))
p4 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(df) <span class="op">+</span><span class="st"> </span><span class="kw">geom_tile</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Y, <span class="dt">y =</span> X), <span class="dt">fill =</span> df<span class="op">$</span>Col) <span class="op">+</span><span class="st"> </span><span class="kw">theme_void</span>()

cowplot<span class="op">::</span><span class="kw">plot_grid</span>(p1, p2, p3, p4, <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">align =</span> <span class="st">&quot;vh&quot;</span>)</code></pre></div>
<p><img src="r_libs_files/figure-html/unnamed-chunk-8-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Another great tool is <code>swatches</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(swatches)
omega_nebula &lt;-<span class="st"> </span><span class="kw">read_ase</span>(<span class="kw">system.file</span>(<span class="st">&quot;palettes&quot;</span>, <span class="st">&quot;omega_nebula.ase&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;swatches&quot;</span>))
<span class="kw">show_palette</span>(omega_nebula)</code></pre></div>
<p><img src="r_libs_files/figure-html/swatch-1.png" width="672" /></p>
</div>
<div id="interactive-and-animated-plots" class="section level2">
<h2>Interactive and animated plots</h2>
<p>Often you want to create an interactive plot, for instance when serving on a <code>shiny</code> instance. One way to do that is using plotly:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;plotly&quot;</span>)
q &lt;-<span class="st"> </span><span class="kw">qplot</span>(<span class="dt">data =</span> iris, <span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Sepal.Width, <span class="dt">color =</span> Species) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span>ggthemes<span class="op">::</span><span class="kw">theme_tufte</span>()
plotly<span class="op">::</span><span class="kw">ggplotly</span>(q)</code></pre></div>
<div id="17cc32e860c06" style="width:672px;height:576px;" class="plotly html-widget"></div>
<script type="application/json" data-for="17cc32e860c06">{"x":{"data":[{"x":[5.1,4.9,4.7,4.6,5,5.4,4.6,5,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5,5,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5,5.5,4.9,4.4,5.1,5,4.5,4.4,5,5.1,4.8,5.1,4.6,5.3,5],"y":[3.5,3,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3,3,4,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3,3.4,3.5,2.3,3.2,3.5,3.8,3,3.8,3.2,3.7,3.3],"text":["Species: setosa<br />Sepal.Length: 5.1<br />Sepal.Width: 3.5","Species: setosa<br />Sepal.Length: 4.9<br />Sepal.Width: 3.0","Species: setosa<br />Sepal.Length: 4.7<br />Sepal.Width: 3.2","Species: setosa<br />Sepal.Length: 4.6<br />Sepal.Width: 3.1","Species: setosa<br />Sepal.Length: 5.0<br />Sepal.Width: 3.6","Species: setosa<br />Sepal.Length: 5.4<br />Sepal.Width: 3.9","Species: setosa<br />Sepal.Length: 4.6<br />Sepal.Width: 3.4","Species: setosa<br />Sepal.Length: 5.0<br />Sepal.Width: 3.4","Species: setosa<br />Sepal.Length: 4.4<br />Sepal.Width: 2.9","Species: setosa<br />Sepal.Length: 4.9<br />Sepal.Width: 3.1","Species: setosa<br />Sepal.Length: 5.4<br />Sepal.Width: 3.7","Species: setosa<br />Sepal.Length: 4.8<br />Sepal.Width: 3.4","Species: setosa<br />Sepal.Length: 4.8<br />Sepal.Width: 3.0","Species: setosa<br />Sepal.Length: 4.3<br />Sepal.Width: 3.0","Species: setosa<br />Sepal.Length: 5.8<br />Sepal.Width: 4.0","Species: setosa<br />Sepal.Length: 5.7<br />Sepal.Width: 4.4","Species: setosa<br />Sepal.Length: 5.4<br />Sepal.Width: 3.9","Species: setosa<br />Sepal.Length: 5.1<br />Sepal.Width: 3.5","Species: setosa<br />Sepal.Length: 5.7<br />Sepal.Width: 3.8","Species: setosa<br />Sepal.Length: 5.1<br />Sepal.Width: 3.8","Species: setosa<br />Sepal.Length: 5.4<br />Sepal.Width: 3.4","Species: setosa<br />Sepal.Length: 5.1<br />Sepal.Width: 3.7","Species: setosa<br />Sepal.Length: 4.6<br />Sepal.Width: 3.6","Species: setosa<br />Sepal.Length: 5.1<br />Sepal.Width: 3.3","Species: setosa<br />Sepal.Length: 4.8<br />Sepal.Width: 3.4","Species: setosa<br />Sepal.Length: 5.0<br />Sepal.Width: 3.0","Species: setosa<br />Sepal.Length: 5.0<br />Sepal.Width: 3.4","Species: setosa<br />Sepal.Length: 5.2<br />Sepal.Width: 3.5","Species: setosa<br />Sepal.Length: 5.2<br />Sepal.Width: 3.4","Species: setosa<br />Sepal.Length: 4.7<br />Sepal.Width: 3.2","Species: setosa<br />Sepal.Length: 4.8<br />Sepal.Width: 3.1","Species: setosa<br />Sepal.Length: 5.4<br />Sepal.Width: 3.4","Species: setosa<br />Sepal.Length: 5.2<br />Sepal.Width: 4.1","Species: setosa<br />Sepal.Length: 5.5<br />Sepal.Width: 4.2","Species: setosa<br />Sepal.Length: 4.9<br />Sepal.Width: 3.1","Species: setosa<br />Sepal.Length: 5.0<br />Sepal.Width: 3.2","Species: setosa<br />Sepal.Length: 5.5<br />Sepal.Width: 3.5","Species: setosa<br />Sepal.Length: 4.9<br />Sepal.Width: 3.6","Species: setosa<br />Sepal.Length: 4.4<br />Sepal.Width: 3.0","Species: setosa<br />Sepal.Length: 5.1<br />Sepal.Width: 3.4","Species: setosa<br />Sepal.Length: 5.0<br />Sepal.Width: 3.5","Species: setosa<br />Sepal.Length: 4.5<br />Sepal.Width: 2.3","Species: setosa<br />Sepal.Length: 4.4<br />Sepal.Width: 3.2","Species: setosa<br />Sepal.Length: 5.0<br />Sepal.Width: 3.5","Species: setosa<br />Sepal.Length: 5.1<br />Sepal.Width: 3.8","Species: setosa<br />Sepal.Length: 4.8<br />Sepal.Width: 3.0","Species: setosa<br />Sepal.Length: 5.1<br />Sepal.Width: 3.8","Species: setosa<br />Sepal.Length: 4.6<br />Sepal.Width: 3.2","Species: setosa<br />Sepal.Length: 5.3<br />Sepal.Width: 3.7","Species: setosa<br />Sepal.Length: 5.0<br />Sepal.Width: 3.3"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(101,173,194,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(101,173,194,1)"}},"hoveron":"points","name":"setosa","legendgroup":"setosa","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[7,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5,5.9,6,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6,5.7,5.5,5.5,5.8,6,5.4,6,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5,5.6,5.7,5.7,6.2,5.1,5.7],"y":[3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2,3,2.2,2.9,2.9,3.1,3,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3,2.8,3,2.9,2.6,2.4,2.4,2.7,2.7,3,3.4,3.1,2.3,3,2.5,2.6,3,2.6,2.3,2.7,3,2.9,2.9,2.5,2.8],"text":["Species: versicolor<br />Sepal.Length: 7.0<br />Sepal.Width: 3.2","Species: versicolor<br />Sepal.Length: 6.4<br />Sepal.Width: 3.2","Species: versicolor<br />Sepal.Length: 6.9<br />Sepal.Width: 3.1","Species: versicolor<br />Sepal.Length: 5.5<br />Sepal.Width: 2.3","Species: versicolor<br />Sepal.Length: 6.5<br />Sepal.Width: 2.8","Species: versicolor<br />Sepal.Length: 5.7<br />Sepal.Width: 2.8","Species: versicolor<br />Sepal.Length: 6.3<br />Sepal.Width: 3.3","Species: versicolor<br />Sepal.Length: 4.9<br />Sepal.Width: 2.4","Species: versicolor<br />Sepal.Length: 6.6<br />Sepal.Width: 2.9","Species: versicolor<br />Sepal.Length: 5.2<br />Sepal.Width: 2.7","Species: versicolor<br />Sepal.Length: 5.0<br />Sepal.Width: 2.0","Species: versicolor<br />Sepal.Length: 5.9<br />Sepal.Width: 3.0","Species: versicolor<br />Sepal.Length: 6.0<br />Sepal.Width: 2.2","Species: versicolor<br />Sepal.Length: 6.1<br />Sepal.Width: 2.9","Species: versicolor<br />Sepal.Length: 5.6<br />Sepal.Width: 2.9","Species: versicolor<br />Sepal.Length: 6.7<br />Sepal.Width: 3.1","Species: versicolor<br />Sepal.Length: 5.6<br />Sepal.Width: 3.0","Species: versicolor<br />Sepal.Length: 5.8<br />Sepal.Width: 2.7","Species: versicolor<br />Sepal.Length: 6.2<br />Sepal.Width: 2.2","Species: versicolor<br />Sepal.Length: 5.6<br />Sepal.Width: 2.5","Species: versicolor<br />Sepal.Length: 5.9<br />Sepal.Width: 3.2","Species: versicolor<br />Sepal.Length: 6.1<br />Sepal.Width: 2.8","Species: versicolor<br />Sepal.Length: 6.3<br />Sepal.Width: 2.5","Species: versicolor<br />Sepal.Length: 6.1<br />Sepal.Width: 2.8","Species: versicolor<br />Sepal.Length: 6.4<br />Sepal.Width: 2.9","Species: versicolor<br />Sepal.Length: 6.6<br />Sepal.Width: 3.0","Species: versicolor<br />Sepal.Length: 6.8<br />Sepal.Width: 2.8","Species: versicolor<br />Sepal.Length: 6.7<br />Sepal.Width: 3.0","Species: versicolor<br />Sepal.Length: 6.0<br />Sepal.Width: 2.9","Species: versicolor<br />Sepal.Length: 5.7<br />Sepal.Width: 2.6","Species: versicolor<br />Sepal.Length: 5.5<br />Sepal.Width: 2.4","Species: versicolor<br />Sepal.Length: 5.5<br />Sepal.Width: 2.4","Species: versicolor<br />Sepal.Length: 5.8<br />Sepal.Width: 2.7","Species: versicolor<br />Sepal.Length: 6.0<br />Sepal.Width: 2.7","Species: versicolor<br />Sepal.Length: 5.4<br />Sepal.Width: 3.0","Species: versicolor<br />Sepal.Length: 6.0<br />Sepal.Width: 3.4","Species: versicolor<br />Sepal.Length: 6.7<br />Sepal.Width: 3.1","Species: versicolor<br />Sepal.Length: 6.3<br />Sepal.Width: 2.3","Species: versicolor<br />Sepal.Length: 5.6<br />Sepal.Width: 3.0","Species: versicolor<br />Sepal.Length: 5.5<br />Sepal.Width: 2.5","Species: versicolor<br />Sepal.Length: 5.5<br />Sepal.Width: 2.6","Species: versicolor<br />Sepal.Length: 6.1<br />Sepal.Width: 3.0","Species: versicolor<br />Sepal.Length: 5.8<br />Sepal.Width: 2.6","Species: versicolor<br />Sepal.Length: 5.0<br />Sepal.Width: 2.3","Species: versicolor<br />Sepal.Length: 5.6<br />Sepal.Width: 2.7","Species: versicolor<br />Sepal.Length: 5.7<br />Sepal.Width: 3.0","Species: versicolor<br />Sepal.Length: 5.7<br />Sepal.Width: 2.9","Species: versicolor<br />Sepal.Length: 6.2<br />Sepal.Width: 2.9","Species: versicolor<br />Sepal.Length: 5.1<br />Sepal.Width: 2.5","Species: versicolor<br />Sepal.Length: 5.7<br />Sepal.Width: 2.8"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(35,59,67,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(35,59,67,1)"}},"hoveron":"points","name":"versicolor","legendgroup":"versicolor","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"y":[3.3,2.7,3,2.9,3,3,2.5,2.9,2.5,3.6,3.2,2.7,3,2.5,2.8,3.2,3,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3,2.8,3,2.8,3.8,2.8,2.8,2.6,3,3.4,3.1,3,3.1,3.1,3.1,2.7,3.2,3.3,3,2.5,3,3.4,3],"text":["Species: virginica<br />Sepal.Length: 6.3<br />Sepal.Width: 3.3","Species: virginica<br />Sepal.Length: 5.8<br />Sepal.Width: 2.7","Species: virginica<br />Sepal.Length: 7.1<br />Sepal.Width: 3.0","Species: virginica<br />Sepal.Length: 6.3<br />Sepal.Width: 2.9","Species: virginica<br />Sepal.Length: 6.5<br />Sepal.Width: 3.0","Species: virginica<br />Sepal.Length: 7.6<br />Sepal.Width: 3.0","Species: virginica<br />Sepal.Length: 4.9<br />Sepal.Width: 2.5","Species: virginica<br />Sepal.Length: 7.3<br />Sepal.Width: 2.9","Species: virginica<br />Sepal.Length: 6.7<br />Sepal.Width: 2.5","Species: virginica<br />Sepal.Length: 7.2<br />Sepal.Width: 3.6","Species: virginica<br />Sepal.Length: 6.5<br />Sepal.Width: 3.2","Species: virginica<br />Sepal.Length: 6.4<br />Sepal.Width: 2.7","Species: virginica<br />Sepal.Length: 6.8<br />Sepal.Width: 3.0","Species: virginica<br />Sepal.Length: 5.7<br />Sepal.Width: 2.5","Species: virginica<br />Sepal.Length: 5.8<br />Sepal.Width: 2.8","Species: virginica<br />Sepal.Length: 6.4<br />Sepal.Width: 3.2","Species: virginica<br />Sepal.Length: 6.5<br />Sepal.Width: 3.0","Species: virginica<br />Sepal.Length: 7.7<br />Sepal.Width: 3.8","Species: virginica<br />Sepal.Length: 7.7<br />Sepal.Width: 2.6","Species: virginica<br />Sepal.Length: 6.0<br />Sepal.Width: 2.2","Species: virginica<br />Sepal.Length: 6.9<br />Sepal.Width: 3.2","Species: virginica<br />Sepal.Length: 5.6<br />Sepal.Width: 2.8","Species: virginica<br />Sepal.Length: 7.7<br />Sepal.Width: 2.8","Species: virginica<br />Sepal.Length: 6.3<br />Sepal.Width: 2.7","Species: virginica<br />Sepal.Length: 6.7<br />Sepal.Width: 3.3","Species: virginica<br />Sepal.Length: 7.2<br />Sepal.Width: 3.2","Species: virginica<br />Sepal.Length: 6.2<br />Sepal.Width: 2.8","Species: virginica<br />Sepal.Length: 6.1<br />Sepal.Width: 3.0","Species: virginica<br />Sepal.Length: 6.4<br />Sepal.Width: 2.8","Species: virginica<br />Sepal.Length: 7.2<br />Sepal.Width: 3.0","Species: virginica<br />Sepal.Length: 7.4<br />Sepal.Width: 2.8","Species: virginica<br />Sepal.Length: 7.9<br />Sepal.Width: 3.8","Species: virginica<br />Sepal.Length: 6.4<br />Sepal.Width: 2.8","Species: virginica<br />Sepal.Length: 6.3<br />Sepal.Width: 2.8","Species: virginica<br />Sepal.Length: 6.1<br />Sepal.Width: 2.6","Species: virginica<br />Sepal.Length: 7.7<br />Sepal.Width: 3.0","Species: virginica<br />Sepal.Length: 6.3<br />Sepal.Width: 3.4","Species: virginica<br />Sepal.Length: 6.4<br />Sepal.Width: 3.1","Species: virginica<br />Sepal.Length: 6.0<br />Sepal.Width: 3.0","Species: virginica<br />Sepal.Length: 6.9<br />Sepal.Width: 3.1","Species: virginica<br />Sepal.Length: 6.7<br />Sepal.Width: 3.1","Species: virginica<br />Sepal.Length: 6.9<br />Sepal.Width: 3.1","Species: virginica<br />Sepal.Length: 5.8<br />Sepal.Width: 2.7","Species: virginica<br />Sepal.Length: 6.8<br />Sepal.Width: 3.2","Species: virginica<br />Sepal.Length: 6.7<br />Sepal.Width: 3.3","Species: virginica<br />Sepal.Length: 6.7<br />Sepal.Width: 3.0","Species: virginica<br />Sepal.Length: 6.3<br />Sepal.Width: 2.5","Species: virginica<br />Sepal.Length: 6.5<br />Sepal.Width: 3.0","Species: virginica<br />Sepal.Length: 6.2<br />Sepal.Width: 3.4","Species: virginica<br />Sepal.Length: 5.9<br />Sepal.Width: 3.0"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(232,70,70,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(232,70,70,1)"}},"hoveron":"points","name":"virginica","legendgroup":"virginica","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":24.5235920852359,"r":7.30593607305936,"b":38.4779299847793,"l":43.1050228310502},"font":{"color":"rgba(0,0,0,1)","family":"serif","size":14.6118721461187},"xaxis":{"domain":[0,1],"type":"linear","autorange":false,"range":[4.12,8.08],"tickmode":"array","ticktext":["5","6","7","8"],"tickvals":[5,6,7,8],"categoryorder":"array","categoryarray":["5","6","7","8"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"serif","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":"Sepal.Length","titlefont":{"color":"rgba(0,0,0,1)","family":"serif","size":14.6118721461187},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"type":"linear","autorange":false,"range":[1.88,4.52],"tickmode":"array","ticktext":["2.0","2.5","3.0","3.5","4.0","4.5"],"tickvals":[2,2.5,3,3.5,4,4.5],"categoryorder":"array","categoryarray":["2.0","2.5","3.0","3.5","4.0","4.5"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"serif","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"Sepal.Width","titlefont":{"color":"rgba(0,0,0,1)","family":"serif","size":14.6118721461187},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"serif","size":11.689497716895},"y":0.927821522309711},"annotations":[{"text":"Species","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"serif","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"source":"A","attrs":{"17cc330f718ef":{"colour":{},"x":{},"y":{},"type":"scatter"}},"cur_data":"17cc330f718ef","visdat":{"17cc330f718ef":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<p>Recently I also stumbled upon <code>highcharter</code> and <code>ggvis</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;highcharter&quot;</span>)
<span class="kw">hchart</span>(iris, <span class="st">&quot;scatter&quot;</span>, <span class="kw">hcaes</span>(<span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Sepal.Width, <span class="dt">group =</span> Species)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">hc_add_theme</span>(<span class="kw">hc_theme_tufte</span>())</code></pre></div>
<div id="htmlwidget-b6267e21190f045b156d" style="width:100%;height:500px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-b6267e21190f045b156d">{"x":{"hc_opts":{"title":{"text":null},"yAxis":{"title":{"text":"Sepal.Width"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"turboThreshold":0,"showInLegend":true,"marker":{"enabled":true}},"treemap":{"layoutAlgorithm":"squarified"},"bubble":{"minSize":5,"maxSize":25},"scatter":{"marker":{"symbol":"circle"}}},"annotationsOptions":{"enabledButtons":false},"tooltip":{"delayForDisplay":10},"series":[{"name":"setosa","data":[{"Sepal.Length":5.1,"Sepal.Width":3.5,"Petal.Length":1.4,"Petal.Width":0.2,"Species":"setosa","x":5.1,"y":3.5},{"Sepal.Length":4.9,"Sepal.Width":3,"Petal.Length":1.4,"Petal.Width":0.2,"Species":"setosa","x":4.9,"y":3},{"Sepal.Length":4.7,"Sepal.Width":3.2,"Petal.Length":1.3,"Petal.Width":0.2,"Species":"setosa","x":4.7,"y":3.2},{"Sepal.Length":4.6,"Sepal.Width":3.1,"Petal.Length":1.5,"Petal.Width":0.2,"Species":"setosa","x":4.6,"y":3.1},{"Sepal.Length":5,"Sepal.Width":3.6,"Petal.Length":1.4,"Petal.Width":0.2,"Species":"setosa","x":5,"y":3.6},{"Sepal.Length":5.4,"Sepal.Width":3.9,"Petal.Length":1.7,"Petal.Width":0.4,"Species":"setosa","x":5.4,"y":3.9},{"Sepal.Length":4.6,"Sepal.Width":3.4,"Petal.Length":1.4,"Petal.Width":0.3,"Species":"setosa","x":4.6,"y":3.4},{"Sepal.Length":5,"Sepal.Width":3.4,"Petal.Length":1.5,"Petal.Width":0.2,"Species":"setosa","x":5,"y":3.4},{"Sepal.Length":4.4,"Sepal.Width":2.9,"Petal.Length":1.4,"Petal.Width":0.2,"Species":"setosa","x":4.4,"y":2.9},{"Sepal.Length":4.9,"Sepal.Width":3.1,"Petal.Length":1.5,"Petal.Width":0.1,"Species":"setosa","x":4.9,"y":3.1},{"Sepal.Length":5.4,"Sepal.Width":3.7,"Petal.Length":1.5,"Petal.Width":0.2,"Species":"setosa","x":5.4,"y":3.7},{"Sepal.Length":4.8,"Sepal.Width":3.4,"Petal.Length":1.6,"Petal.Width":0.2,"Species":"setosa","x":4.8,"y":3.4},{"Sepal.Length":4.8,"Sepal.Width":3,"Petal.Length":1.4,"Petal.Width":0.1,"Species":"setosa","x":4.8,"y":3},{"Sepal.Length":4.3,"Sepal.Width":3,"Petal.Length":1.1,"Petal.Width":0.1,"Species":"setosa","x":4.3,"y":3},{"Sepal.Length":5.8,"Sepal.Width":4,"Petal.Length":1.2,"Petal.Width":0.2,"Species":"setosa","x":5.8,"y":4},{"Sepal.Length":5.7,"Sepal.Width":4.4,"Petal.Length":1.5,"Petal.Width":0.4,"Species":"setosa","x":5.7,"y":4.4},{"Sepal.Length":5.4,"Sepal.Width":3.9,"Petal.Length":1.3,"Petal.Width":0.4,"Species":"setosa","x":5.4,"y":3.9},{"Sepal.Length":5.1,"Sepal.Width":3.5,"Petal.Length":1.4,"Petal.Width":0.3,"Species":"setosa","x":5.1,"y":3.5},{"Sepal.Length":5.7,"Sepal.Width":3.8,"Petal.Length":1.7,"Petal.Width":0.3,"Species":"setosa","x":5.7,"y":3.8},{"Sepal.Length":5.1,"Sepal.Width":3.8,"Petal.Length":1.5,"Petal.Width":0.3,"Species":"setosa","x":5.1,"y":3.8},{"Sepal.Length":5.4,"Sepal.Width":3.4,"Petal.Length":1.7,"Petal.Width":0.2,"Species":"setosa","x":5.4,"y":3.4},{"Sepal.Length":5.1,"Sepal.Width":3.7,"Petal.Length":1.5,"Petal.Width":0.4,"Species":"setosa","x":5.1,"y":3.7},{"Sepal.Length":4.6,"Sepal.Width":3.6,"Petal.Length":1,"Petal.Width":0.2,"Species":"setosa","x":4.6,"y":3.6},{"Sepal.Length":5.1,"Sepal.Width":3.3,"Petal.Length":1.7,"Petal.Width":0.5,"Species":"setosa","x":5.1,"y":3.3},{"Sepal.Length":4.8,"Sepal.Width":3.4,"Petal.Length":1.9,"Petal.Width":0.2,"Species":"setosa","x":4.8,"y":3.4},{"Sepal.Length":5,"Sepal.Width":3,"Petal.Length":1.6,"Petal.Width":0.2,"Species":"setosa","x":5,"y":3},{"Sepal.Length":5,"Sepal.Width":3.4,"Petal.Length":1.6,"Petal.Width":0.4,"Species":"setosa","x":5,"y":3.4},{"Sepal.Length":5.2,"Sepal.Width":3.5,"Petal.Length":1.5,"Petal.Width":0.2,"Species":"setosa","x":5.2,"y":3.5},{"Sepal.Length":5.2,"Sepal.Width":3.4,"Petal.Length":1.4,"Petal.Width":0.2,"Species":"setosa","x":5.2,"y":3.4},{"Sepal.Length":4.7,"Sepal.Width":3.2,"Petal.Length":1.6,"Petal.Width":0.2,"Species":"setosa","x":4.7,"y":3.2},{"Sepal.Length":4.8,"Sepal.Width":3.1,"Petal.Length":1.6,"Petal.Width":0.2,"Species":"setosa","x":4.8,"y":3.1},{"Sepal.Length":5.4,"Sepal.Width":3.4,"Petal.Length":1.5,"Petal.Width":0.4,"Species":"setosa","x":5.4,"y":3.4},{"Sepal.Length":5.2,"Sepal.Width":4.1,"Petal.Length":1.5,"Petal.Width":0.1,"Species":"setosa","x":5.2,"y":4.1},{"Sepal.Length":5.5,"Sepal.Width":4.2,"Petal.Length":1.4,"Petal.Width":0.2,"Species":"setosa","x":5.5,"y":4.2},{"Sepal.Length":4.9,"Sepal.Width":3.1,"Petal.Length":1.5,"Petal.Width":0.2,"Species":"setosa","x":4.9,"y":3.1},{"Sepal.Length":5,"Sepal.Width":3.2,"Petal.Length":1.2,"Petal.Width":0.2,"Species":"setosa","x":5,"y":3.2},{"Sepal.Length":5.5,"Sepal.Width":3.5,"Petal.Length":1.3,"Petal.Width":0.2,"Species":"setosa","x":5.5,"y":3.5},{"Sepal.Length":4.9,"Sepal.Width":3.6,"Petal.Length":1.4,"Petal.Width":0.1,"Species":"setosa","x":4.9,"y":3.6},{"Sepal.Length":4.4,"Sepal.Width":3,"Petal.Length":1.3,"Petal.Width":0.2,"Species":"setosa","x":4.4,"y":3},{"Sepal.Length":5.1,"Sepal.Width":3.4,"Petal.Length":1.5,"Petal.Width":0.2,"Species":"setosa","x":5.1,"y":3.4},{"Sepal.Length":5,"Sepal.Width":3.5,"Petal.Length":1.3,"Petal.Width":0.3,"Species":"setosa","x":5,"y":3.5},{"Sepal.Length":4.5,"Sepal.Width":2.3,"Petal.Length":1.3,"Petal.Width":0.3,"Species":"setosa","x":4.5,"y":2.3},{"Sepal.Length":4.4,"Sepal.Width":3.2,"Petal.Length":1.3,"Petal.Width":0.2,"Species":"setosa","x":4.4,"y":3.2},{"Sepal.Length":5,"Sepal.Width":3.5,"Petal.Length":1.6,"Petal.Width":0.6,"Species":"setosa","x":5,"y":3.5},{"Sepal.Length":5.1,"Sepal.Width":3.8,"Petal.Length":1.9,"Petal.Width":0.4,"Species":"setosa","x":5.1,"y":3.8},{"Sepal.Length":4.8,"Sepal.Width":3,"Petal.Length":1.4,"Petal.Width":0.3,"Species":"setosa","x":4.8,"y":3},{"Sepal.Length":5.1,"Sepal.Width":3.8,"Petal.Length":1.6,"Petal.Width":0.2,"Species":"setosa","x":5.1,"y":3.8},{"Sepal.Length":4.6,"Sepal.Width":3.2,"Petal.Length":1.4,"Petal.Width":0.2,"Species":"setosa","x":4.6,"y":3.2},{"Sepal.Length":5.3,"Sepal.Width":3.7,"Petal.Length":1.5,"Petal.Width":0.2,"Species":"setosa","x":5.3,"y":3.7},{"Sepal.Length":5,"Sepal.Width":3.3,"Petal.Length":1.4,"Petal.Width":0.2,"Species":"setosa","x":5,"y":3.3}],"type":"scatter"},{"name":"versicolor","data":[{"Sepal.Length":7,"Sepal.Width":3.2,"Petal.Length":4.7,"Petal.Width":1.4,"Species":"versicolor","x":7,"y":3.2},{"Sepal.Length":6.4,"Sepal.Width":3.2,"Petal.Length":4.5,"Petal.Width":1.5,"Species":"versicolor","x":6.4,"y":3.2},{"Sepal.Length":6.9,"Sepal.Width":3.1,"Petal.Length":4.9,"Petal.Width":1.5,"Species":"versicolor","x":6.9,"y":3.1},{"Sepal.Length":5.5,"Sepal.Width":2.3,"Petal.Length":4,"Petal.Width":1.3,"Species":"versicolor","x":5.5,"y":2.3},{"Sepal.Length":6.5,"Sepal.Width":2.8,"Petal.Length":4.6,"Petal.Width":1.5,"Species":"versicolor","x":6.5,"y":2.8},{"Sepal.Length":5.7,"Sepal.Width":2.8,"Petal.Length":4.5,"Petal.Width":1.3,"Species":"versicolor","x":5.7,"y":2.8},{"Sepal.Length":6.3,"Sepal.Width":3.3,"Petal.Length":4.7,"Petal.Width":1.6,"Species":"versicolor","x":6.3,"y":3.3},{"Sepal.Length":4.9,"Sepal.Width":2.4,"Petal.Length":3.3,"Petal.Width":1,"Species":"versicolor","x":4.9,"y":2.4},{"Sepal.Length":6.6,"Sepal.Width":2.9,"Petal.Length":4.6,"Petal.Width":1.3,"Species":"versicolor","x":6.6,"y":2.9},{"Sepal.Length":5.2,"Sepal.Width":2.7,"Petal.Length":3.9,"Petal.Width":1.4,"Species":"versicolor","x":5.2,"y":2.7},{"Sepal.Length":5,"Sepal.Width":2,"Petal.Length":3.5,"Petal.Width":1,"Species":"versicolor","x":5,"y":2},{"Sepal.Length":5.9,"Sepal.Width":3,"Petal.Length":4.2,"Petal.Width":1.5,"Species":"versicolor","x":5.9,"y":3},{"Sepal.Length":6,"Sepal.Width":2.2,"Petal.Length":4,"Petal.Width":1,"Species":"versicolor","x":6,"y":2.2},{"Sepal.Length":6.1,"Sepal.Width":2.9,"Petal.Length":4.7,"Petal.Width":1.4,"Species":"versicolor","x":6.1,"y":2.9},{"Sepal.Length":5.6,"Sepal.Width":2.9,"Petal.Length":3.6,"Petal.Width":1.3,"Species":"versicolor","x":5.6,"y":2.9},{"Sepal.Length":6.7,"Sepal.Width":3.1,"Petal.Length":4.4,"Petal.Width":1.4,"Species":"versicolor","x":6.7,"y":3.1},{"Sepal.Length":5.6,"Sepal.Width":3,"Petal.Length":4.5,"Petal.Width":1.5,"Species":"versicolor","x":5.6,"y":3},{"Sepal.Length":5.8,"Sepal.Width":2.7,"Petal.Length":4.1,"Petal.Width":1,"Species":"versicolor","x":5.8,"y":2.7},{"Sepal.Length":6.2,"Sepal.Width":2.2,"Petal.Length":4.5,"Petal.Width":1.5,"Species":"versicolor","x":6.2,"y":2.2},{"Sepal.Length":5.6,"Sepal.Width":2.5,"Petal.Length":3.9,"Petal.Width":1.1,"Species":"versicolor","x":5.6,"y":2.5},{"Sepal.Length":5.9,"Sepal.Width":3.2,"Petal.Length":4.8,"Petal.Width":1.8,"Species":"versicolor","x":5.9,"y":3.2},{"Sepal.Length":6.1,"Sepal.Width":2.8,"Petal.Length":4,"Petal.Width":1.3,"Species":"versicolor","x":6.1,"y":2.8},{"Sepal.Length":6.3,"Sepal.Width":2.5,"Petal.Length":4.9,"Petal.Width":1.5,"Species":"versicolor","x":6.3,"y":2.5},{"Sepal.Length":6.1,"Sepal.Width":2.8,"Petal.Length":4.7,"Petal.Width":1.2,"Species":"versicolor","x":6.1,"y":2.8},{"Sepal.Length":6.4,"Sepal.Width":2.9,"Petal.Length":4.3,"Petal.Width":1.3,"Species":"versicolor","x":6.4,"y":2.9},{"Sepal.Length":6.6,"Sepal.Width":3,"Petal.Length":4.4,"Petal.Width":1.4,"Species":"versicolor","x":6.6,"y":3},{"Sepal.Length":6.8,"Sepal.Width":2.8,"Petal.Length":4.8,"Petal.Width":1.4,"Species":"versicolor","x":6.8,"y":2.8},{"Sepal.Length":6.7,"Sepal.Width":3,"Petal.Length":5,"Petal.Width":1.7,"Species":"versicolor","x":6.7,"y":3},{"Sepal.Length":6,"Sepal.Width":2.9,"Petal.Length":4.5,"Petal.Width":1.5,"Species":"versicolor","x":6,"y":2.9},{"Sepal.Length":5.7,"Sepal.Width":2.6,"Petal.Length":3.5,"Petal.Width":1,"Species":"versicolor","x":5.7,"y":2.6},{"Sepal.Length":5.5,"Sepal.Width":2.4,"Petal.Length":3.8,"Petal.Width":1.1,"Species":"versicolor","x":5.5,"y":2.4},{"Sepal.Length":5.5,"Sepal.Width":2.4,"Petal.Length":3.7,"Petal.Width":1,"Species":"versicolor","x":5.5,"y":2.4},{"Sepal.Length":5.8,"Sepal.Width":2.7,"Petal.Length":3.9,"Petal.Width":1.2,"Species":"versicolor","x":5.8,"y":2.7},{"Sepal.Length":6,"Sepal.Width":2.7,"Petal.Length":5.1,"Petal.Width":1.6,"Species":"versicolor","x":6,"y":2.7},{"Sepal.Length":5.4,"Sepal.Width":3,"Petal.Length":4.5,"Petal.Width":1.5,"Species":"versicolor","x":5.4,"y":3},{"Sepal.Length":6,"Sepal.Width":3.4,"Petal.Length":4.5,"Petal.Width":1.6,"Species":"versicolor","x":6,"y":3.4},{"Sepal.Length":6.7,"Sepal.Width":3.1,"Petal.Length":4.7,"Petal.Width":1.5,"Species":"versicolor","x":6.7,"y":3.1},{"Sepal.Length":6.3,"Sepal.Width":2.3,"Petal.Length":4.4,"Petal.Width":1.3,"Species":"versicolor","x":6.3,"y":2.3},{"Sepal.Length":5.6,"Sepal.Width":3,"Petal.Length":4.1,"Petal.Width":1.3,"Species":"versicolor","x":5.6,"y":3},{"Sepal.Length":5.5,"Sepal.Width":2.5,"Petal.Length":4,"Petal.Width":1.3,"Species":"versicolor","x":5.5,"y":2.5},{"Sepal.Length":5.5,"Sepal.Width":2.6,"Petal.Length":4.4,"Petal.Width":1.2,"Species":"versicolor","x":5.5,"y":2.6},{"Sepal.Length":6.1,"Sepal.Width":3,"Petal.Length":4.6,"Petal.Width":1.4,"Species":"versicolor","x":6.1,"y":3},{"Sepal.Length":5.8,"Sepal.Width":2.6,"Petal.Length":4,"Petal.Width":1.2,"Species":"versicolor","x":5.8,"y":2.6},{"Sepal.Length":5,"Sepal.Width":2.3,"Petal.Length":3.3,"Petal.Width":1,"Species":"versicolor","x":5,"y":2.3},{"Sepal.Length":5.6,"Sepal.Width":2.7,"Petal.Length":4.2,"Petal.Width":1.3,"Species":"versicolor","x":5.6,"y":2.7},{"Sepal.Length":5.7,"Sepal.Width":3,"Petal.Length":4.2,"Petal.Width":1.2,"Species":"versicolor","x":5.7,"y":3},{"Sepal.Length":5.7,"Sepal.Width":2.9,"Petal.Length":4.2,"Petal.Width":1.3,"Species":"versicolor","x":5.7,"y":2.9},{"Sepal.Length":6.2,"Sepal.Width":2.9,"Petal.Length":4.3,"Petal.Width":1.3,"Species":"versicolor","x":6.2,"y":2.9},{"Sepal.Length":5.1,"Sepal.Width":2.5,"Petal.Length":3,"Petal.Width":1.1,"Species":"versicolor","x":5.1,"y":2.5},{"Sepal.Length":5.7,"Sepal.Width":2.8,"Petal.Length":4.1,"Petal.Width":1.3,"Species":"versicolor","x":5.7,"y":2.8}],"type":"scatter"},{"name":"virginica","data":[{"Sepal.Length":6.3,"Sepal.Width":3.3,"Petal.Length":6,"Petal.Width":2.5,"Species":"virginica","x":6.3,"y":3.3},{"Sepal.Length":5.8,"Sepal.Width":2.7,"Petal.Length":5.1,"Petal.Width":1.9,"Species":"virginica","x":5.8,"y":2.7},{"Sepal.Length":7.1,"Sepal.Width":3,"Petal.Length":5.9,"Petal.Width":2.1,"Species":"virginica","x":7.1,"y":3},{"Sepal.Length":6.3,"Sepal.Width":2.9,"Petal.Length":5.6,"Petal.Width":1.8,"Species":"virginica","x":6.3,"y":2.9},{"Sepal.Length":6.5,"Sepal.Width":3,"Petal.Length":5.8,"Petal.Width":2.2,"Species":"virginica","x":6.5,"y":3},{"Sepal.Length":7.6,"Sepal.Width":3,"Petal.Length":6.6,"Petal.Width":2.1,"Species":"virginica","x":7.6,"y":3},{"Sepal.Length":4.9,"Sepal.Width":2.5,"Petal.Length":4.5,"Petal.Width":1.7,"Species":"virginica","x":4.9,"y":2.5},{"Sepal.Length":7.3,"Sepal.Width":2.9,"Petal.Length":6.3,"Petal.Width":1.8,"Species":"virginica","x":7.3,"y":2.9},{"Sepal.Length":6.7,"Sepal.Width":2.5,"Petal.Length":5.8,"Petal.Width":1.8,"Species":"virginica","x":6.7,"y":2.5},{"Sepal.Length":7.2,"Sepal.Width":3.6,"Petal.Length":6.1,"Petal.Width":2.5,"Species":"virginica","x":7.2,"y":3.6},{"Sepal.Length":6.5,"Sepal.Width":3.2,"Petal.Length":5.1,"Petal.Width":2,"Species":"virginica","x":6.5,"y":3.2},{"Sepal.Length":6.4,"Sepal.Width":2.7,"Petal.Length":5.3,"Petal.Width":1.9,"Species":"virginica","x":6.4,"y":2.7},{"Sepal.Length":6.8,"Sepal.Width":3,"Petal.Length":5.5,"Petal.Width":2.1,"Species":"virginica","x":6.8,"y":3},{"Sepal.Length":5.7,"Sepal.Width":2.5,"Petal.Length":5,"Petal.Width":2,"Species":"virginica","x":5.7,"y":2.5},{"Sepal.Length":5.8,"Sepal.Width":2.8,"Petal.Length":5.1,"Petal.Width":2.4,"Species":"virginica","x":5.8,"y":2.8},{"Sepal.Length":6.4,"Sepal.Width":3.2,"Petal.Length":5.3,"Petal.Width":2.3,"Species":"virginica","x":6.4,"y":3.2},{"Sepal.Length":6.5,"Sepal.Width":3,"Petal.Length":5.5,"Petal.Width":1.8,"Species":"virginica","x":6.5,"y":3},{"Sepal.Length":7.7,"Sepal.Width":3.8,"Petal.Length":6.7,"Petal.Width":2.2,"Species":"virginica","x":7.7,"y":3.8},{"Sepal.Length":7.7,"Sepal.Width":2.6,"Petal.Length":6.9,"Petal.Width":2.3,"Species":"virginica","x":7.7,"y":2.6},{"Sepal.Length":6,"Sepal.Width":2.2,"Petal.Length":5,"Petal.Width":1.5,"Species":"virginica","x":6,"y":2.2},{"Sepal.Length":6.9,"Sepal.Width":3.2,"Petal.Length":5.7,"Petal.Width":2.3,"Species":"virginica","x":6.9,"y":3.2},{"Sepal.Length":5.6,"Sepal.Width":2.8,"Petal.Length":4.9,"Petal.Width":2,"Species":"virginica","x":5.6,"y":2.8},{"Sepal.Length":7.7,"Sepal.Width":2.8,"Petal.Length":6.7,"Petal.Width":2,"Species":"virginica","x":7.7,"y":2.8},{"Sepal.Length":6.3,"Sepal.Width":2.7,"Petal.Length":4.9,"Petal.Width":1.8,"Species":"virginica","x":6.3,"y":2.7},{"Sepal.Length":6.7,"Sepal.Width":3.3,"Petal.Length":5.7,"Petal.Width":2.1,"Species":"virginica","x":6.7,"y":3.3},{"Sepal.Length":7.2,"Sepal.Width":3.2,"Petal.Length":6,"Petal.Width":1.8,"Species":"virginica","x":7.2,"y":3.2},{"Sepal.Length":6.2,"Sepal.Width":2.8,"Petal.Length":4.8,"Petal.Width":1.8,"Species":"virginica","x":6.2,"y":2.8},{"Sepal.Length":6.1,"Sepal.Width":3,"Petal.Length":4.9,"Petal.Width":1.8,"Species":"virginica","x":6.1,"y":3},{"Sepal.Length":6.4,"Sepal.Width":2.8,"Petal.Length":5.6,"Petal.Width":2.1,"Species":"virginica","x":6.4,"y":2.8},{"Sepal.Length":7.2,"Sepal.Width":3,"Petal.Length":5.8,"Petal.Width":1.6,"Species":"virginica","x":7.2,"y":3},{"Sepal.Length":7.4,"Sepal.Width":2.8,"Petal.Length":6.1,"Petal.Width":1.9,"Species":"virginica","x":7.4,"y":2.8},{"Sepal.Length":7.9,"Sepal.Width":3.8,"Petal.Length":6.4,"Petal.Width":2,"Species":"virginica","x":7.9,"y":3.8},{"Sepal.Length":6.4,"Sepal.Width":2.8,"Petal.Length":5.6,"Petal.Width":2.2,"Species":"virginica","x":6.4,"y":2.8},{"Sepal.Length":6.3,"Sepal.Width":2.8,"Petal.Length":5.1,"Petal.Width":1.5,"Species":"virginica","x":6.3,"y":2.8},{"Sepal.Length":6.1,"Sepal.Width":2.6,"Petal.Length":5.6,"Petal.Width":1.4,"Species":"virginica","x":6.1,"y":2.6},{"Sepal.Length":7.7,"Sepal.Width":3,"Petal.Length":6.1,"Petal.Width":2.3,"Species":"virginica","x":7.7,"y":3},{"Sepal.Length":6.3,"Sepal.Width":3.4,"Petal.Length":5.6,"Petal.Width":2.4,"Species":"virginica","x":6.3,"y":3.4},{"Sepal.Length":6.4,"Sepal.Width":3.1,"Petal.Length":5.5,"Petal.Width":1.8,"Species":"virginica","x":6.4,"y":3.1},{"Sepal.Length":6,"Sepal.Width":3,"Petal.Length":4.8,"Petal.Width":1.8,"Species":"virginica","x":6,"y":3},{"Sepal.Length":6.9,"Sepal.Width":3.1,"Petal.Length":5.4,"Petal.Width":2.1,"Species":"virginica","x":6.9,"y":3.1},{"Sepal.Length":6.7,"Sepal.Width":3.1,"Petal.Length":5.6,"Petal.Width":2.4,"Species":"virginica","x":6.7,"y":3.1},{"Sepal.Length":6.9,"Sepal.Width":3.1,"Petal.Length":5.1,"Petal.Width":2.3,"Species":"virginica","x":6.9,"y":3.1},{"Sepal.Length":5.8,"Sepal.Width":2.7,"Petal.Length":5.1,"Petal.Width":1.9,"Species":"virginica","x":5.8,"y":2.7},{"Sepal.Length":6.8,"Sepal.Width":3.2,"Petal.Length":5.9,"Petal.Width":2.3,"Species":"virginica","x":6.8,"y":3.2},{"Sepal.Length":6.7,"Sepal.Width":3.3,"Petal.Length":5.7,"Petal.Width":2.5,"Species":"virginica","x":6.7,"y":3.3},{"Sepal.Length":6.7,"Sepal.Width":3,"Petal.Length":5.2,"Petal.Width":2.3,"Species":"virginica","x":6.7,"y":3},{"Sepal.Length":6.3,"Sepal.Width":2.5,"Petal.Length":5,"Petal.Width":1.9,"Species":"virginica","x":6.3,"y":2.5},{"Sepal.Length":6.5,"Sepal.Width":3,"Petal.Length":5.2,"Petal.Width":2,"Species":"virginica","x":6.5,"y":3},{"Sepal.Length":6.2,"Sepal.Width":3.4,"Petal.Length":5.4,"Petal.Width":2.3,"Species":"virginica","x":6.2,"y":3.4},{"Sepal.Length":5.9,"Sepal.Width":3,"Petal.Length":5.1,"Petal.Width":1.8,"Species":"virginica","x":5.9,"y":3}],"type":"scatter"}],"xAxis":{"type":"linear","title":{"text":"Sepal.Length"},"categories":null}},"theme":{"colors":["#737373","#D8D7D6","#B2B0AD","#8C8984"],"chart":{"style":{"fontFamily":"Cardo"}},"xAxis":{"lineWidth":0,"minorGridLineWidth":0,"lineColor":"transparent","tickColor":"#737373"},"yAxis":{"lineWidth":0,"minorGridLineWidth":0,"lineColor":"transparent","tickColor":"#737373","tickWidth":1,"gridLineColor":"transparent"},"legend":{"enabled":false}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":"Cardo","debug":false},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;ggvis&quot;</span>)
<span class="kw">data</span>(<span class="st">&quot;mtcars&quot;</span>)
mtcars <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggvis</span>(<span class="op">~</span>wt, <span class="op">~</span>mpg, <span class="st">`</span><span class="dt">:=</span><span class="st">`</span>(size, <span class="kw">input_slider</span>(<span class="dv">10</span>, <span class="dv">100</span>)), <span class="st">`</span><span class="dt">:=</span><span class="st">`</span>(opacity, 
    <span class="kw">input_slider</span>(<span class="dv">0</span>, <span class="dv">1</span>))) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">layer_points</span>()</code></pre></div>
<div id="plot_id647401585-container" class="ggvis-output-container">
<div id="plot_id647401585" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id647401585_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id647401585" data-renderer="svg">SVG</a>
 | 
<a id="plot_id647401585_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id647401585" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id647401585_download" class="ggvis-download" data-plot-id="plot_id647401585">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id647401585_spec = {
  "data": [
    {
      "name": ".0",
      "format": {
        "type": "csv",
        "parse": {
          "reactive_740128645": "number",
          "reactive_697603744": "number",
          "wt": "number",
          "mpg": "number"
        }
      },
      "values": "\"reactive_740128645\",\"reactive_697603744\",\"wt\",\"mpg\"\n55,0.5,2.62,21\n55,0.5,2.875,21\n55,0.5,2.32,22.8\n55,0.5,3.215,21.4\n55,0.5,3.44,18.7\n55,0.5,3.46,18.1\n55,0.5,3.57,14.3\n55,0.5,3.19,24.4\n55,0.5,3.15,22.8\n55,0.5,3.44,19.2\n55,0.5,3.44,17.8\n55,0.5,4.07,16.4\n55,0.5,3.73,17.3\n55,0.5,3.78,15.2\n55,0.5,5.25,10.4\n55,0.5,5.424,10.4\n55,0.5,5.345,14.7\n55,0.5,2.2,32.4\n55,0.5,1.615,30.4\n55,0.5,1.835,33.9\n55,0.5,2.465,21.5\n55,0.5,3.52,15.5\n55,0.5,3.435,15.2\n55,0.5,3.84,13.3\n55,0.5,3.845,19.2\n55,0.5,1.935,27.3\n55,0.5,2.14,26\n55,0.5,1.513,30.4\n55,0.5,3.17,15.8\n55,0.5,2.77,19.7\n55,0.5,3.57,15\n55,0.5,2.78,21.4"
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n1.31745\n5.61955"
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n9.225\n35.075"
    }
  ],
  "scales": [
    {
      "name": "x",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "symbol",
      "properties": {
        "update": {
          "fill": {
            "value": "#000000"
          },
          "size": {
            "field": "data.reactive_740128645"
          },
          "opacity": {
            "field": "data.reactive_697603744"
          },
          "x": {
            "scale": "x",
            "field": "data.wt"
          },
          "y": {
            "scale": "y",
            "field": "data.mpg"
          }
        },
        "ggvis": {
          "data": {
            "value": ".0"
          }
        }
      },
      "from": {
        "data": ".0"
      }
    }
  ],
  "legends": [],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "wt"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "mpg"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 576
  },
  "handlers": null
};
ggvis.getPlot("plot_id647401585").parseSpec(plot_id647401585_spec);
</script>
<p>With <code>gganimate</code> you can directly create GIFs from you plots:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;gganimate&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;gapminder&quot;</span>)
g &lt;-<span class="st"> </span><span class="kw">ggplot</span>(gapminder, <span class="kw">aes</span>(gdpPercap, lifeExp, <span class="dt">size =</span> pop, <span class="dt">frame =</span> year)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_smooth</span>(<span class="kw">aes</span>(<span class="dt">group =</span> year), <span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">facet_wrap</span>(<span class="op">~</span>continent, <span class="dt">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="op">+</span><span class="st"> </span>ggthemes<span class="op">::</span><span class="kw">theme_tufte</span>()
<span class="kw">gganimate</span>(g)</code></pre></div>
<div class="figure">
<img src="https://rawgit.com/dirmeier/essential-R/master/fig/gganimate.gif" />

</div>
</div>
<div id="graphs" class="section level2">
<h2>Graphs</h2>
<p>There are many wonderful graph and network libraries around. I primarily use <code>ggnetwork</code>/<code>ggnet2</code>, <code>igraph</code>, <code>ggraph</code> and <code>DiagrammeR</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(DiagrammeR)
<span class="kw">create_graph</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">add_node</span>(<span class="dt">label =</span> <span class="kw">expression</span>(Z), <span class="dt">node_aes =</span> <span class="kw">node_aes</span>(<span class="dt">penwidth =</span> <span class="dv">2</span>, 
    <span class="dt">fontname =</span> <span class="st">&quot;Arial Narrow&quot;</span>, <span class="dt">fontcolor =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">fillcolor =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">add_node</span>(<span class="dt">label =</span> <span class="st">&quot;X&quot;</span>, <span class="dt">node_aes =</span> <span class="kw">node_aes</span>(<span class="dt">penwidth =</span> <span class="dv">2</span>, <span class="dt">fontname =</span> <span class="st">&quot;Arial Narrow&quot;</span>, 
        <span class="dt">fontcolor =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">fillcolor =</span> <span class="st">&quot;grey&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">add_edge</span>(<span class="dt">from =</span> <span class="dv">1</span>, 
    <span class="dt">to =</span> <span class="dv">2</span>, <span class="dt">edge_aes =</span> <span class="kw">edge_aes</span>(<span class="dt">color =</span> <span class="st">&quot;black&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">render_graph</span>(<span class="dt">layout =</span> <span class="st">&quot;tree&quot;</span>)</code></pre></div>
<div id="htmlwidget-c606ebd51504ebe96080" style="width:672px;height:192px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-c606ebd51504ebe96080">{"x":{"diagram":"digraph {\n\ngraph [layout = \"neato\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"Z\", penwidth = \"2\", color = \"black\", fontname = \"Arial Narrow\", fontcolor = \"black\", fillcolor = \"#FFFFFF\", pos = \"0,2!\"] \n  \"2\" [label = \"X\", penwidth = \"2\", color = \"black\", fontname = \"Arial Narrow\", fontcolor = \"black\", fillcolor = \"#C0C0C0\", pos = \"0,1!\"] \n\"1\"->\"2\" [color = \"black\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="data.table" class="section level1">
<h1>data.table</h1>
<p><code>data.table</code> is a fast implementation of R’s classical <code>data.frame</code>. I hardly ever use data frame any more, and if so only, because it seems to work nicer with <code>dplyr</code> and <code>tidyr</code>. However, by using <code>dtplyr</code> this isn’t much of a problem, really.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;data.table&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;dplyr&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;dtplyr&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;grid&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;gridExtra&quot;</span>)

n &lt;-<span class="st"> </span><span class="dv">1000</span>
rn &lt;-<span class="st"> </span>stats<span class="op">::</span><span class="kw">rnorm</span>(n)
ltrs &lt;-<span class="st"> </span>base<span class="op">::</span><span class="kw">sample</span>(letters[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>], n, <span class="dt">replace =</span> <span class="ot">TRUE</span>)
dt &lt;-<span class="st"> </span>data.table<span class="op">::</span><span class="kw">data.table</span>(<span class="dt">X =</span> rn, <span class="dt">Y =</span> ltrs)
df &lt;-<span class="st"> </span>base<span class="op">::</span><span class="kw">data.frame</span>(<span class="dt">X =</span> rn, <span class="dt">Y =</span> ltrs)

dt[, .SD[<span class="kw">sample</span>(.N, <span class="dv">1</span>)], by =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Y&quot;</span>)] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tableGrob</span>(<span class="dt">rows =</span> <span class="ot">NULL</span>) <span class="op">%&gt;%</span><span class="st"> </span>grid.arrange</code></pre></div>
<p><img src="r_libs_files/figure-html/unnamed-chunk-13-1.png" width="192" style="display: block; margin: auto;" /></p>
<p>In the end it depends what style you prefer. I usually go with <code>data.table</code> alone without needing the <code>dplyr/dtplyr</code> dependency. However, the latter is usually more readable. For large data, the fastest solution is probably preferable.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt.only &lt;-<span class="st"> </span><span class="cf">function</span>() dt[, .SD[<span class="kw">sample</span>(.N, <span class="dv">1</span>)], by =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Y&quot;</span>)]
dt.dtplyr &lt;-<span class="st"> </span><span class="cf">function</span>() dt <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(Y) <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">sample_n</span>(<span class="dv">1</span>)
df.dplyr &lt;-<span class="st"> </span><span class="cf">function</span>() df <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(Y) <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">sample_n</span>(<span class="dv">1</span>)

microbenchmark<span class="op">::</span><span class="kw">microbenchmark</span>(<span class="kw">dt.only</span>(), <span class="kw">dt.dtplyr</span>(), <span class="kw">df.dplyr</span>())</code></pre></div>
<pre><code>Unit: milliseconds
        expr      min       lq     mean   median       uq       max neval
   dt.only() 1.427923 1.761586 2.675787 2.127224 2.890548 27.023261   100
 dt.dtplyr() 2.025227 2.548122 3.350910 2.985529 3.849531  7.747268   100
  df.dplyr() 2.315759 2.879618 3.902482 3.381295 4.554877 15.261312   100
 cld
  a 
   b
   b</code></pre>
</div>
<div id="mlr-and-openml" class="section level1">
<h1>mlR and openML</h1>
<p>CRAN offers dozens of packages related to machine and statistical learning, many of which doing the same. <code>mlR</code> wraps many of these into one big library. <code>mlR</code> integrates with <code>openML</code>, an open machine learning platform where people share code, data and algorithms. Here we show an example where we use a Gaussian process to predict the Kyphosis label from the <code>gam</code> package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(mlr)
task &lt;-<span class="st"> </span>mlr<span class="op">::</span><span class="kw">makeClassifTask</span>(<span class="dt">data =</span> kyphosis, <span class="dt">target =</span> <span class="st">&quot;Kyphosis&quot;</span>)
lrn &lt;-<span class="st"> </span>mlr<span class="op">::</span><span class="kw">makeLearner</span>(<span class="st">&quot;classif.gausspr&quot;</span>)

n &lt;-<span class="st"> </span><span class="kw">nrow</span>(kyphosis)
train.set &lt;-<span class="st"> </span><span class="kw">sample</span>(n, <span class="dt">size =</span> <span class="dv">2</span><span class="op">/</span><span class="dv">3</span> <span class="op">*</span><span class="st"> </span>n)
test.set &lt;-<span class="st"> </span><span class="kw">setdiff</span>(<span class="dv">1</span><span class="op">:</span>n, train.set)

model &lt;-<span class="st"> </span>mlr<span class="op">::</span><span class="kw">train</span>(lrn, task, <span class="dt">subset =</span> train.set)</code></pre></div>
<pre><code>Using automatic sigma estimation (sigest) for RBF or laplace kernel </code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pred &lt;-<span class="st"> </span>stats<span class="op">::</span><span class="kw">predict</span>(model, <span class="dt">task =</span> task, <span class="dt">subset =</span> test.set)
<span class="kw">performance</span>(pred, <span class="dt">measures =</span> <span class="kw">list</span>(mmce, acc))</code></pre></div>
<pre><code>     mmce       acc 
0.1111111 0.8888889 </code></pre>
</div>
<div id="markdown-and-shiny" class="section level1">
<h1>Markdown and Shiny</h1>
<p><code>Rmarkdown</code> is a great way for documentation, reporting and working reproducibly. Rstudio provides tons of different output formats like web sites (like this one), Tufte style documents, blogs and others. If you want to present your work interactively you can do so by building a web page using <code>shiny</code>. For presentations that use R code I use either <a href="https://github.com/yihui/xaringan">xaringan</a>, <a href="http://slidify.org/">Slidify</a> or <a href="https://rmarkdown.rstudio.com/revealjs_presentation_format.html">reveal.js</a>.</p>
<p>Find all the output formats by Rstudio <a href="https://rmarkdown.rstudio.com/lesson-9.html">here</a>.</p>
<div id="shiny" class="section level2">
<h2>Shiny</h2>
<p>Setting up a Shiny instance for reporting is a great way to present data using interactive plots. Setting up shiny is fairly easy. You need to create a <code>server.R</code> file and <code>ui.R</code> file, e.g. like this:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">  <span class="fu">cat</span> R/ui.R</code></pre></div>
<pre><code>library(shiny)
library(shinyjs)
library(plotly)

shinyUI(
    fluidPage(
        useShinyjs(),
        fluidRow(
            column(
                width = 6,offset=2,
                h3(&quot;Scatterplot&quot;),
                HTML(&quot;&lt;h5&gt;&lt;i&gt;Created using ggplot2, hrbrthemes and ggsci on the iris data.&lt;/i&gt;&lt;/h5&gt;&quot;),
                plotOutput(&quot;scatterplot&quot;, width=800)
            )
        )

    )
)</code></pre>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">  <span class="fu">cat</span> R/ui.R</code></pre></div>
<pre><code>library(shiny)
library(shinyjs)
library(plotly)

shinyUI(
    fluidPage(
        useShinyjs(),
        fluidRow(
            column(
                width = 6,offset=2,
                h3(&quot;Scatterplot&quot;),
                HTML(&quot;&lt;h5&gt;&lt;i&gt;Created using ggplot2, hrbrthemes and ggsci on the iris data.&lt;/i&gt;&lt;/h5&gt;&quot;),
                plotOutput(&quot;scatterplot&quot;, width=800)
            )
        )

    )
)</code></pre>
<p>You can publish your server on <a href="http://www.shinyapps.io/">shinyapps.io</a> so that it is accessible by everyone.</p>
</div>
</div>
<div id="pryr" class="section level1">
<h1>Pryr</h1>
<p>In some cases it is interesting to have a look at the implementation of specific functions, get their sizes in byte or get the current memory consumption. It is especially useful to keep track of the addresses your objects point to. When I was new to R I found it confusing when a reference is dropped and when a new copy of an object is created.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;pryr&quot;</span>)
pryr<span class="op">::</span><span class="kw">inspect</span>(<span class="kw">list</span>())</code></pre></div>
<pre><code>&lt;VECSXP 0x7fee0b04d3f8&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pryr<span class="op">::</span><span class="kw">inspect</span>(<span class="kw">vector</span>())</code></pre></div>
<pre><code>&lt;LGLSXP 0x7fee07f67408&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pryr<span class="op">::</span><span class="kw">object_size</span>(<span class="kw">numeric</span>())</code></pre></div>
<pre><code>40 B</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pryr<span class="op">::</span><span class="kw">object_size</span>(<span class="kw">numeric</span>(<span class="dv">1</span>))</code></pre></div>
<pre><code>48 B</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span>stats<span class="op">::</span><span class="kw">rnorm</span>(<span class="dv">10</span>)
y &lt;-<span class="st"> </span>x
pryr<span class="op">::</span><span class="kw">address</span>(x)</code></pre></div>
<pre><code>[1] &quot;0x7fee0f475d58&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pryr<span class="op">::</span><span class="kw">address</span>(y)</code></pre></div>
<pre><code>[1] &quot;0x7fee0f475d58&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y[<span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">1</span>
pryr<span class="op">::</span><span class="kw">address</span>(y)</code></pre></div>
<pre><code>[1] &quot;0x7fee11370750&quot;</code></pre>
</div>
<div id="datastructures" class="section level1">
<h1>datastructures</h1>
<p>If you have a background in computer science you may wonder, that R does not have support for advanced data structures such as Fibonacci heaps or hashmaps. <code>datastructures</code> tries to solve this. It uses Rcpp modules to export Boost data structures to R:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;datastructures&quot;</span>)
q &lt;-<span class="st"> </span>datastructures<span class="op">::</span><span class="kw">fibonacci_heap</span>(<span class="st">&quot;integer&quot;</span>, <span class="st">&quot;numeric&quot;</span>)
q[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>] &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">rnorm</span>(<span class="dv">3</span>), <span class="dv">2</span>, <span class="kw">rnorm</span>(<span class="dv">4</span>))
datastructures<span class="op">::</span><span class="kw">pop</span>(q)</code></pre></div>
<pre><code>$`1`
[1] 0.9646802 0.5508726 1.3883642</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">datastructures<span class="op">::</span><span class="kw">pop</span>(q)</code></pre></div>
<pre><code>$`2`
[1] 2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">datastructures<span class="op">::</span><span class="kw">pop</span>(q)</code></pre></div>
<pre><code>$`3`
[1] -1.5733381  0.8551432 -0.9849241  0.5447848</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">datastructures<span class="op">::</span><span class="kw">pop</span>(q)</code></pre></div>
<pre><code>NULL</code></pre>
</div>
<div id="workflow-management" class="section level1">
<h1>Workflow management</h1>
<p>I recently came across <a href="https://ropensci.github.io/drake/index.html"><code>drake</code></a> as a workflow manager. It allows you to run a project and easily update output files.</p>
<div align="center">
<p><img src="https://rawgit.com/dirmeier/essential-R/master/fig/drake.jpg" alt="oh no" width="500px"></p>
</div>
</div>
<div id="others" class="section level1">
<h1>Others</h1>
<p>There are many other great tools I did not specifically mention due to the fact that they are probably more situational. Some of these are:</p>
<ul>
<li>rlang</li>
<li>argparse,</li>
<li>IRKernel,</li>
<li>CVXR, minqa and nloptr,</li>
<li>tensorflow and keras,</li>
<li>glmnet, lme4 and netReg.</li>
</ul>
</div>

<footer style="margin-top: 5%">
    <p style="font-size: 0.75em;">&copy; 2018 Simon Dirmeier (<a href="mailto:simon.dirmeier@web.de">simon.dirmeier@web.de</a>)
    </p>
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
