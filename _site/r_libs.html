<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title></title>

<script src="site_libs/jquery/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap/shim/respond.min.js"></script>
<script src="site_libs/navigation/tabsets.js"></script>
<link href="site_libs/highlightjs/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs/highlight.js"></script>
<script src="site_libs/htmlwidgets/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding/plotly.js"></script>
<script src="site_libs/typedarray/typedarray.min.js"></script>
<link href="site_libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk/js/crosstalk.min.js"></script>
<link href="site_libs/plotlyjs/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotlyjs/plotly-latest.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">My Website</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">




</div>


<div id="r-libraries" class="section level1">
<h1>R libraries</h1>
<p>Much of <code>R</code>’s popularity is due to its fantastic ecosystem. <code>R</code> users benefit heavily from CRAN and Bioconductor packages created by its community.</p>
<p>For data analysis or statistics <code>R</code> is a good choice for various reasons:</p>
<ul>
<li>high-level,</li>
<li>easy to install packages,</li>
<li>can be extended to <code>C++</code> without needing knowledge of linking or <code>C++</code> build-systems,</li>
<li>probably the best plotting facility with <code>ggplot</code>, <code>cowplot</code>, <code>hrbrthemes</code> or <code>ggsci</code>,</li>
<li>Bioconductor, machine learning and statistics libraries,</li>
<li>small standard library.</li>
</ul>
<p>There are a few things, however, <code>R</code> is not so great at:</p>
<ul>
<li>in general slow,</li>
<li>not really suited for large projects,</li>
<li>poor object orientation,</li>
<li>inconsistent function names,</li>
<li>superior IDEs for Java, Python, …,</li>
<li>very limited threading capabilities.</li>
</ul>
<div id="extending-to-c-using-rcpp" class="section level2">
<h2>Extending to C++ using <code>Rcpp</code></h2>
<p>Using <code>Rcpp</code> (and <code>RcppEigen</code>, <code>RcppArmadillo</code>, <code>Boost</code>) you can easily your extend your code to C++. It not only nicely wraps the standard C API, but also let’s you use standard matrix libraries such as Eigen and Armadillo or Boost :heart_eyes:.</p>
<p>If you have a project that’s not a package you can for instance create a function like this:</p>
<pre class="r"><code>  Rcpp::cppFunction(&#39;double sum(std::vector&lt;double&gt;&amp; vec) {
      double sum = .0;
      for (std::vector&lt;double&gt;::size_type i = 0; i &lt; vec.size(); ++i)
          sum += vec[i];
      return sum;
  }&#39;)


  sum(as.numeric(seq(10)))</code></pre>
<pre><code>## [1] 55</code></pre>
<p>Let’s see an <code>Eigen</code> example with sourceCpp:</p>
<pre class="bash"><code>  cat ./square.cpp</code></pre>
<pre><code>## // [[Rcpp::depends(RcppEigen)]]
## #include &lt;RcppEigen.h&gt;
## 
## // [[Rcpp::export]]
## Eigen::MatrixXd square(Eigen::MatrixXd&amp; m)
## {
##     return m.transpose() * m;
## }</code></pre>
<pre class="r"><code>  library(&#39;RcppEigen&#39;)
  Rcpp::sourceCpp(&quot;./square.cpp&quot;)
  square(matrix(rnorm(10), 2))</code></pre>
<pre><code>##             [,1]        [,2]       [,3]       [,4]        [,5]
## [1,]  0.02491350 -0.06444958  0.1755817 -0.1822706  0.02165136
## [2,] -0.06444958  0.16915195 -0.5490013  0.4498517 -0.03807044
## [3,]  0.17558168 -0.54900127  4.9418693 -0.4376409 -0.54856997
## [4,] -0.18227055  0.44985173 -0.4376409  1.5271503 -0.31870971
## [5,]  0.02165136 -0.03807044 -0.5485700 -0.3187097  0.15152961</code></pre>
<p>Even for small matrices, the speed up is already substantial.</p>
<pre class="r"><code>  m &lt;- matrix(rnorm(100 * 100), 100)
  microbenchmark::microbenchmark(
    square(m),
    t(m) %*% m
  )</code></pre>
<pre><code>## Unit: microseconds
##        expr     min       lq      mean  median        uq      max neval
##   square(m) 186.413 208.8715  325.0822 266.792  354.6675 1512.914   100
##  t(m) %*% m 623.188 736.7185 1032.7848 925.470 1244.2830 2222.857   100
##  cld
##   a 
##    b</code></pre>
<div id="rcpp-in-a-package" class="section level3">
<h3>Rcpp in a package</h3>
<p>Usually, you would want to put your source code into a <code>cpp</code> file in the <code>src</code> folder. Then you can call C++ from an R function, for instance as described below.</p>
<ol style="list-style-type: decimal">
<li>Define a C++ source file and put it in <code>src</code>, like this:</li>
</ol>
<pre><code>#include <Rcpp.h>

// [[Rcpp::export]]
Rcpp::List dostuff()
{
  // some computations

  return Rcpp::List::create(
    Rcpp::Named("a") = ...
  );
}</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Add this to your <code>DESCRIPTION</code>:</li>
</ol>
<pre><code>Imports: Rcpp
LinkingTo: Rcpp</code></pre>
<ol start="3" style="list-style-type: decimal">
<li><p>Add a comment <code>#' @useDynLib newpkg, .registration = TRUE</code> to the documentation of any function, better yet to the package doc.</p></li>
<li><p>Call <code>devtools::document()</code></p></li>
<li><p>Call <code>Rcpp::compileAttributes(&quot;./newpkg&quot;)</code></p></li>
</ol>
<p>This should let you access the C++ function from your package. For more details check out the main <a href="http://www.rcpp.org/">documentation</a> or some of my packages, like <a href="https://github.com/dirmeier/netReg">netReg</a> or <a href="https://github.com/dirmeier/datastructures">datastructures</a>. The latter also has an example how to use modules and Boost.</p>
</div>
<div id="writing-c" class="section level3">
<h3>Writing <code>C++</code></h3>
<p>Here are some tools that help you develop your code&quot;</p>
<ul>
<li><code>gdb</code> and <code>lldb</code> for debugging,</li>
<li><code>valgrind</code> and <code>gprof</code> to check for memory leaks and for profiling,</li>
<li>Intel’s <code>Parallel Studio XE</code> (&lt;3) which is a toolbox for vectorization, debugging, memory checks, etc. If you can get hold of it, get it. It is magnificent.</li>
<li><code>BOOST</code> for unit tests, data structures and basically everything you ever need,</li>
<li><code>cppcheck</code> for static code analysis,</li>
<li><code>doxygen</code> for code documentation.</li>
</ul>
<p>Many C++ libraries, like <code>Dlib</code>, <code>Eigen</code> or <code>tensorflow</code> have an R interface, so before implementing functionality yourself check out if there is already an implementation for it.</p>
<p>At this point it also makes sense to have a look at various <code>C++</code> books such as</p>
<ul>
<li>Scott Meyers: Effective Modern C++,</li>
<li>Scott Meyers: Effective C++,</li>
<li>Ben Klemens: 21. century C,</li>
<li>Kurt Guntheroth: Optimized C++,</li>
<li>Nicolai Josuttis: C++17 - the complete guide,</li>
<li>David Vandevoorde: C++ Templates - the compete guide.</li>
</ul>
<p>For fast numerical code OpenMP and advanced vector and streaming SIMD extensions (AVX/SSE) is often the way to go. Writing good code using AVX is however not very simple and knowledge of memory alignment is required. However, starting from version 4 (?), OpenMP easily allows vectorization using <code>#pragma simd</code>.</p>
<p><strong>Note: the last lines in this section are heavily subjective and only state the author’s opinion.</strong></p>
<p>More and more garbage code is forced onto the scientific community, mostly related to academic hubris and lack of knowledge about how to <em>program</em> (we don’t mean how to <em>accomplish a task using a programming language</em>, but to embrace a language and its philosophy at its very core). If you aim to publish your code, make sure it follows <em>contemporary</em> good practices, standards and guidelines and that it is consistent, for instance by following people’s code who are part of the community for ages. At this point we want to emphasize that the author doesn’t claim to know C++, but rather that he is annoyed by this very trend.</p>
<p>C++ is a large, complex language. Chances that you mess up, introduce bugs and memory leaks are high, unless you have some experience. In academia in mostly results in bad, un-maintainable code. If your argument is <em>but it is faster than R</em>, at least have a look at <code>Julia</code> or <code>Python</code> (and <code>numpy</code>). If you still prefer hacking in C++ try to stick to some guidelines:</p>
<ul>
<li>don’t include C headers in your C++ projects .. just don’t. C and C++ are <strong>two</strong> languages. There is for need for <code>FILE*</code> or <code>malloc</code>.</li>
<li>modern C++ rarely needs pointers. Use <code>std::vector</code> or <code>std::unique_ptr</code>. No need to manually release pointers is an advantage of itself.</li>
<li>BOOST has (probably) everything you will ever need. Don’t reinvent the wheel and learn to include libraries in your project.</li>
<li>Learn how to use Cmake, Meson or autotools. You should <strong>never</strong> need to directly invoke a compiler or write a hard-coded Makefile.</li>
<li>Only because you have a PhD or M. Sc. in CS does not make you a prolific programmer. It requires staying up to date, <strong>reading other people’s code</strong> and embracing of new ideas and the very philosophy of the language and its community.</li>
<li>Print warnings. They are usually there for a reason.</li>
<li>Start a toy project or contribute to OSS projects.</li>
</ul>
</div>
</div>
<div id="functional-programming-with-purrr" class="section level2">
<h2>Functional programming with <code>purrr</code></h2>
<p><code>purrr</code> is a functional programming toolkit, much like the <code>apply</code> class of functions. However, <code>purrr</code> does so in a more unified way with consistent return values. Furthermore, in combination with <code>magrittr</code>, the code you write is naturally more concise and easier to read.</p>
<pre class="r"><code>  library(&#39;purrr&#39;)
  library(&#39;ggplot2&#39;)
  library(&#39;repurrrsive&#39;)
  library(&#39;magrittr&#39;)  
  head(sw_people[[1]])</code></pre>
<pre><code>## $name
## [1] &quot;Luke Skywalker&quot;
## 
## $height
## [1] &quot;172&quot;
## 
## $mass
## [1] &quot;77&quot;
## 
## $hair_color
## [1] &quot;blond&quot;
## 
## $skin_color
## [1] &quot;fair&quot;
## 
## $eye_color
## [1] &quot;blue&quot;</code></pre>
<pre class="r"><code>  df &lt;- map_dfr(
    sw_people,
    .f = function(.) data.frame(color  = .[[&quot;eye_color&quot;]],
                                height = .[[&quot;height&quot;]],
                                mass   = .[[&quot;mass&quot;]]))</code></pre>
<pre><code>## Warning in bind_rows_(x, .id): Unequal factor levels: coercing to character</code></pre>
<pre><code>## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector</code></pre>
<pre><code>## Warning in bind_rows_(x, .id): Unequal factor levels: coercing to character</code></pre>
<pre><code>## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector</code></pre>
<pre><code>## Warning in bind_rows_(x, .id): Unequal factor levels: coercing to character</code></pre>
<pre><code>## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector</code></pre>
<pre class="r"><code>  head(df)</code></pre>
<pre><code>##    color height mass
## 1   blue    172   77
## 2 yellow    167   75
## 3    red     96   32
## 4 yellow    202  136
## 5  brown    150   49
## 6   blue    178  120</code></pre>
</div>
<div id="plotting" class="section level2">
<h2>Plotting</h2>
<p>One of the most significant reasons to use R is probably its plotting capabilities and people contributing to <code>ggplot2</code>.</p>
<p>Use <code>hrbrthemes</code> for a nicer layout:</p>
<pre class="r"><code>  library(&#39;hrbrthemes&#39;)
  library(&#39;ggsci&#39;)
  import_roboto_condensed()</code></pre>
<pre><code>## You will likely need to install these fonts on your system as well.
## 
## You can find them in [/Users/simondi/Library/R/3.4/library/hrbrthemes/fonts/roboto-condensed]</code></pre>
<pre class="r"><code>  g &lt;- ggplot(df) +
    geom_point(aes(x=height, y=mass, color=color)) +
    hrbrthemes::theme_ipsum_rc() +
    ggsci::scale_color_rickandmorty()
  print(g)</code></pre>
<pre><code>## Warning: This manual palette can handle a maximum of 12 values. You have
## supplied 15.</code></pre>
<pre><code>## Warning: Removed 15 rows containing missing values (geom_point).</code></pre>
<p><img src="r_libs_files/figure-html/unnamed-chunk-6-1.png" width="672" style="display: block; margin: auto;" /></p>
<div id="colors" class="section level3">
<h3>Colors</h3>
<p>Use <code>cowplot</code> for publication ready plots and <code>colorspace</code> in order to remove some hue and chroma. <code>Viridis</code> is a wonderful set of colors for continuous, sequential data. For discrete, qualitative data I mainly use <code>ggthemr</code> and the <code>fresh</code> colors. <code>ggsci</code> also has some wonderful color palettes.</p>
<pre class="r"><code>  library(&#39;colorspace&#39;)
  library(&#39;colorblindr&#39;)
  library(&#39;viridis&#39;)
  library(&#39;scales&#39;)
  library(&#39;cowplot&#39;)
  library(&#39;ggthemr&#39;)
  ggthemr(&quot;fresh&quot;)

   p1 &lt;- colorblindr::gg_color_gradient() + colorspace::scale_fill_continuous_sequential(&quot;viridis&quot;, c1=20, c2=70, l1=25, l2=100)
   p2 &lt;- colorblindr::gg_color_gradient() + colorspace::scale_fill_continuous_sequential(&quot;Blues&quot;, c1=20, c2=70, l1=25, l2=100)
   p3 &lt;- colorblindr::gg_color_gradient() +  colorspace::scale_fill_continuous_diverging(c1=40)
   df &lt;- data.frame(Col=ggthemr::swatch()[1:10], X=1, Y=seq(10))
   p4 &lt;- ggplot(df) + geom_tile(aes(x=Y, y=X), fill=df$Col) + theme_void()

   cowplot::plot_grid(p1, p2, p3, p4, ncol=2, align=&quot;vh&quot;)</code></pre>
<p><img src="r_libs_files/figure-html/unnamed-chunk-7-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Often you want to create an interactive plot, for instance when serving on a <code>shiny</code> instance:</p>
<pre class="r"><code>  library(&#39;plotly&#39;)
  ggplotly(g)</code></pre>
<pre><code>## We recommend that you use the dev version of ggplot2 with `ggplotly()`
## Install it with: `devtools::install_github(&#39;hadley/ggplot2&#39;)`</code></pre>
<pre><code>## Warning: This manual palette can handle a maximum of 12 values. You have
## supplied 15.</code></pre>
<div id="7086c9a1041" style="width:672px;height:576px;" class="plotly html-widget"></div>
<script type="application/json" data-for="7086c9a1041">{"x":{"data":[{"x":[15,6,2,28,24,37,33,18,32,46],"y":[25,24,39,35,30,36,39,21,30,39],"text":["height: 173<br />mass: 74<br />color: black","height: 160<br />mass: 68<br />color: black","height: 122<br />mass: unknown<br />color: black","height: 196<br />mass: 87<br />color: black","height: 188<br />mass: 80<br />color: black","height: 229<br />mass: 88<br />color: black","height: 213<br />mass: unknown<br />color: black","height: 178<br />mass: 57<br />color: black","height: 206<br />mass: 80<br />color: black","height: unknown<br />mass: unknown<br />color: black"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(250,253,124,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(250,253,124,1)"}},"hoveron":"points","name":"black","legendgroup":"black","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[14,18,8,24,19,36,19,16,4,27,12,21,22,28,21,12,9,10,38],"y":[27,6,26,33,39,4,3,29,39,37,39,39,18,39,39,20,18,39,7],"text":["height: 172<br />mass: 77<br />color: blue","height: 178<br />mass: 120<br />color: blue","height: 165<br />mass: 75<br />color: blue","height: 188<br />mass: 84<br />color: blue","height: 180<br />mass: unknown<br />color: blue","height: 228<br />mass: 112<br />color: blue","height: 180<br />mass: 110<br />color: blue","height: 175<br />mass: 79<br />color: blue","height: 150<br />mass: unknown<br />color: blue","height: 193<br />mass: 89<br />color: blue","height: 170<br />mass: unknown<br />color: blue","height: 183<br />mass: unknown<br />color: blue","height: 184<br />mass: 50<br />color: blue","height: 196<br />mass: unknown<br />color: blue","height: 183<br />mass: unknown<br />color: blue","height: 170<br />mass: 56.2<br />color: blue","height: 166<br />mass: 50<br />color: blue","height: 167<br />mass: unknown<br />color: blue","height: 234<br />mass: 136<br />color: blue"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(130,73,30,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(130,73,30,1)"}},"hoveron":"points","name":"blue","legendgroup":"blue","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20],"y":[27],"text":"height: 182<br />mass: 77<br />color: blue-gray","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(36,50,95,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(36,50,95,1)"}},"hoveron":"points","name":"blue-gray","legendgroup":"blue-gray","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4,21,19,40,21,17,46,42,21,7,24,13,23,5,8,27,26,21,24,46,8],"y":[17,33,30,11,28,29,39,12,39,39,33,39,34,39,39,30,39,29,29,39,15],"text":["height: 150<br />mass: 49<br />color: brown","height: 183<br />mass: 84<br />color: brown","height: 180<br />mass: 80<br />color: brown","height: 66<br />mass: 17<br />color: brown","height: 183<br />mass: 78.2<br />color: brown","height: 177<br />mass: 79<br />color: brown","height: unknown<br />mass: unknown<br />color: brown","height: 88<br />mass: 20<br />color: brown","height: 183<br />mass: unknown<br />color: brown","height: 163<br />mass: unknown<br />color: brown","height: 188<br />mass: 84<br />color: brown","height: 171<br />mass: unknown<br />color: brown","height: 185<br />mass: 85<br />color: brown","height: 157<br />mass: unknown<br />color: brown","height: 165<br />mass: unknown<br />color: brown","height: 193<br />mass: 80<br />color: brown","height: 191<br />mass: unknown<br />color: brown","height: 183<br />mass: 79<br />color: brown","height: 188<br />mass: 79<br />color: brown","height: unknown<br />mass: unknown<br />color: brown","height: 165<br />mass: 45<br />color: brown"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(183,228,249,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(183,228,249,1)"}},"hoveron":"points","name":"brown","legendgroup":"brown","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[46],"y":[39],"text":"height: unknown<br />mass: unknown<br />color: dark","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,100,103,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(251,100,103,1)"}},"hoveron":"points","name":"dark","legendgroup":"dark","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[26],"y":[39],"text":"height: 191<br />mass: unknown<br />color: gold","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(82,110,45,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(82,110,45,1)"}},"hoveron":"points","name":"gold","legendgroup":"gold","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[34],"y":[10],"text":"height: 216<br />mass: 159<br />color: green, yellow","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(231,98,215,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(231,98,215,1)"}},"hoveron":"points","name":"green, yellow","legendgroup":"green, yellow","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[12,18,46],"y":[27,19,39],"text":["height: 170<br />mass: 77<br />color: hazel","height: 178<br />mass: 55<br />color: hazel","height: unknown<br />mass: unknown<br />color: hazel"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(232,146,66,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(232,146,66,1)"}},"hoveron":"points","name":"hazel","legendgroup":"hazel","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[16,19,28,35,32,1,7,24],"y":[1,32,23,31,39,14,22,39],"text":["height: 175<br />mass: 1,358<br />color: orange","height: 180<br />mass: 83<br />color: orange","height: 196<br />mass: 66<br />color: orange","height: 224<br />mass: 82<br />color: orange","height: 206<br />mass: unknown<br />color: orange","height: 112<br />mass: 40<br />color: orange","height: 163<br />mass: 65<br />color: orange","height: 188<br />mass: unknown<br />color: orange"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(250,228,139,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(250,228,139,1)"}},"hoveron":"points","name":"orange","legendgroup":"orange","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19],"y":[39],"text":"height: 180<br />mass: unknown<br />color: pink","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(166,238,230,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(166,238,230,1)"}},"hoveron":"points","name":"pink","legendgroup":"pink","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[44,45,30,25,26],"y":[13,13,8,5,38],"text":["height: 96<br />mass: 32<br />color: red","height: 97<br />mass: 32<br />color: red","height: 200<br />mass: 140<br />color: red","height: 190<br />mass: 113<br />color: red","height: 191<br />mass: 90<br />color: red"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(145,124,93,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(145,124,93,1)"}},"hoveron":"points","name":"red","legendgroup":"red","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[44],"y":[39],"text":"height: 96<br />mass: unknown<br />color: red, blue","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(105,200,236,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(105,200,236,1)"}},"hoveron":"points","name":"red, blue","legendgroup":"red, blue","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[41,27,46],"y":[9,16,39],"text":["height: 79<br />mass: 15<br />color: unknown","height: 193<br />mass: 48<br />color: unknown","height: unknown<br />mass: unknown<br />color: unknown"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["transparent","transparent","transparent"],"opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":["transparent","transparent","transparent"]}},"hoveron":"points","name":"unknown","legendgroup":"unknown","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18],"y":[16],"text":"height: 178<br />mass: 48<br />color: white","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"transparent","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"transparent"}},"hoveron":"points","name":"white","legendgroup":"white","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[10,31,12,3,16,43,29,39,21,11,29],"y":[26,7,26,39,30,15,31,39,30,19,2],"text":["height: 167<br />mass: 75<br />color: yellow","height: 202<br />mass: 136<br />color: yellow","height: 170<br />mass: 75<br />color: yellow","height: 137<br />mass: unknown<br />color: yellow","height: 175<br />mass: 80<br />color: yellow","height: 94<br />mass: 45<br />color: yellow","height: 198<br />mass: 82<br />color: yellow","height: 264<br />mass: unknown<br />color: yellow","height: 183<br />mass: 80<br />color: yellow","height: 168<br />mass: 55<br />color: yellow","height: 198<br />mass: 102<br />color: yellow"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["transparent","transparent","transparent","transparent","transparent","transparent","transparent","transparent","transparent","transparent","transparent"],"opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":["transparent","transparent","transparent","transparent","transparent","transparent","transparent","transparent","transparent","transparent","transparent"]}},"hoveron":"points","name":"yellow","legendgroup":"yellow","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":62.4923204649232,"r":39.8505603985056,"b":77.5425487754255,"l":109.090909090909},"font":{"color":"rgba(0,0,0,1)","family":"Roboto Condensed","size":15.2760481527605},"xaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[0.4,46.6],"ticktext":["112","122","137","150","157","160","163","165","166","167","168","170","171","172","173","175","177","178","180","182","183","184","185","188","190","191","193","196","198","200","202","206","213","216","224","228","229","234","264","66","79","88","94","96","97","unknown"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],"ticks":"","tickcolor":null,"ticklen":3.81901203819012,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Roboto Condensed","size":15.2760481527605},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.265670402656704,"zeroline":false,"anchor":"y","title":"height","titlefont":{"color":"rgba(0,0,0,1)","family":"Roboto Condensed","size":11.9551681195517},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[0.4,39.6],"ticktext":["1,358","102","110","112","113","120","136","140","15","159","17","20","32","40","45","48","49","50","55","56.2","57","65","66","68","74","75","77","78.2","79","80","82","83","84","85","87","88","89","90","unknown"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],"ticks":"","tickcolor":null,"ticklen":3.81901203819012,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Roboto Condensed","size":15.2760481527605},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.265670402656704,"zeroline":false,"anchor":"x","title":"mass","titlefont":{"color":"rgba(0,0,0,1)","family":"Roboto Condensed","size":11.9551681195517},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"Roboto Condensed","size":12.2208385222084},"y":0.924540682414698},"annotations":[{"text":"color","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"Roboto Condensed","size":15.2760481527605},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest"},"source":"A","attrs":{"70866c7b341b":{"x":{},"y":{},"colour":{},"type":"ggplotly"}},"cur_data":"70866c7b341b","visdat":{"70866c7b341b":["function (y) ","x"]},"config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
</div>
<div id="other-packages-to-consider" class="section level3">
<h3>Other packages to consider</h3>
<p>Other useful packages for plotting, using colors, animations or working with images are:</p>
<ul>
<li><code>magick</code></li>
<li><code>imager</code></li>
<li><code>scales</code></li>
<li><code>tweenr</code> (and basically everything from <a href="https://github.com/thomasp85">Thomas Pederson</a>.)</li>
<li><code>ggraph</code> and <code>ggnetwork</code></li>
<li><code>gganimate</code></li>
<li><code>ggpubr</code></li>
</ul>
</div>
</div>
<div id="data.table" class="section level2">
<h2>data.table</h2>
<p><code>data.table</code> is a fast implementation of R’s classical <code>data.frame</code>. I hardly ever use data frame any more, and if so only, because it seems to work nicer with <code>dplyr</code> and <code>tidyr</code>. However, using <code>dtplyr</code> this isn’t much of a problem, really.</p>
<pre class="r"><code>  library(&#39;data.table&#39;)  
  library(&#39;dplyr&#39;)
  library(&#39;dtplyr&#39;)
  library(&#39;grid&#39;)
  library(&#39;gridExtra&#39;)
  n    &lt;- 1000
  rn   &lt;- rnorm(n)
  ltrs &lt;- sample(letters[1:5], n, replace=TRUE)
  dt   &lt;- data.table(X=rn, Y=ltrs)
  df   &lt;- data.frame(X=rn, Y=ltrs)

  dt[, .SD[sample(.N, 1)], by=c(&quot;Y&quot;)] %&gt;%
    tableGrob(rows=NULL) %&gt;%
    grid.arrange</code></pre>
<p><img src="r_libs_files/figure-html/unnamed-chunk-9-1.png" width="192" style="display: block; margin: auto;" /></p>
<p>In the end it depends what style you prefer. I usually go with <code>data.table</code> alone without needing the <code>dplyr/dtplyr</code> dependency. However, the latter is usually more readable. For large data, the fastest solution is probably preferable.</p>
<pre class="r"><code>  dt.only   &lt;- function() dt[, .SD[sample(.N, 1)], by=c(&quot;Y&quot;)]
  dt.dtplyr &lt;- function() dt %&gt;% group_by(Y) %&gt;% sample_n(1)
  df.dplyr  &lt;- function() df %&gt;% group_by(Y) %&gt;% sample_n(1)

  microbenchmark::microbenchmark(
    dt.only(),
    dt.dtplyr(),
    df.dplyr()
  )</code></pre>
<pre><code>## Unit: milliseconds
##         expr       min        lq      mean    median        uq      max
##    dt.only()  1.948626  2.326943  2.747400  2.598089  2.997385  5.31485
##  dt.dtplyr()  3.671498  4.166913  4.716359  4.438788  4.905083 12.36855
##   df.dplyr() 18.933726 20.675129 22.486252 21.778057 23.039254 29.64673
##  neval cld
##    100 a  
##    100  b 
##    100   c</code></pre>
</div>
<div id="mlr-and-openml" class="section level2">
<h2>mlR and openML</h2>
<p>CRAN offers dozens of packages related to machine and statistical learning, many of which doing the same. <code>mlR</code> wraps many of these into one common library.</p>
</div>
<div id="s3-s4-r6" class="section level2">
<h2>S3, S4, R6</h2>
</div>
<div id="shiny" class="section level2">
<h2>Shiny</h2>
</div>
<div id="pryr" class="section level2">
<h2>Pryr</h2>
</div>
<div id="datastructures" class="section level2">
<h2>datastructures</h2>
</div>
<div id="other" class="section level2">
<h2>Other</h2>
<p>dplyr, tidyr, ORKernel, minqq, nloptr,</p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
